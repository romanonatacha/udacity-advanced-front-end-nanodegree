{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/simple-transition/index.js","public/js/settings/TestController.js","public/js/settings/index.js","public/js/settings/mdl/textfield.js","public/js/settings/tests/WindowMessenger.js","public/js/settings/tests/index.js","public/js/settings/views/spinner.js","public/js/utils/parseHTML.js"],"names":[],"mappings":"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","file":"settings.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = function transition(el, obj, duration, easing) {\n  return new Promise(function(resolve, reject) {\n    if (obj.transform) {\n      obj['-webkit-transform'] = obj.transform;\n    }\n\n    var objKeys = Object.keys(obj);\n\n    if (duration) {\n      el.style.transitionProperty = objKeys.join();\n      if (easing) el.style.transitionTimingFunction = easing;\n      el.style.transitionDuration = duration + 's';\n      el.offsetLeft; // style recalc\n\n      el.addEventListener('transitionend', function te() {\n        el.style.transitionProperty = '';\n        el.style.transitionTimingFunction = '';\n        el.style.transitionDuration = '';\n        resolve();\n        el.removeEventListener('transitionend', te);\n      });\n    }\n    else {\n      resolve();\n    }\n\n    objKeys.forEach(function(key) {\n      el.style.setProperty(key, obj[key]);\n    });\n  });\n};\n","import MaterialTextfield from './mdl/textfield';\nimport simpleTransition from 'simple-transition';\nimport SpinnerView from './views/spinner';\nimport tests from './tests';\n\nexport default class TestController {\n  constructor(container) {\n    this._memeContainer = container.querySelector('.meme-container');\n    this._memeImgContainer = container.querySelector('.meme-img-container');\n    this._feedbackText = container.querySelector('.feedback-text');\n    this._form = container.querySelector('.test-form');\n    this._currentMemeImg = null;\n    this._spinner = new SpinnerView();\n\n    this._memeContainer.appendChild(this._spinner.container);\n\n    new MaterialTextfield(container.querySelector('.mdl-js-textfield'));\n    this._form.addEventListener('submit', e => this._onSubmit(e));\n    this._form.testId.addEventListener('input', e => this._onInput(e));\n\n  }\n\n  _onInput(event) {\n    if (!this._form.testId.value.trim()) {\n      this._removeCurrentFeedback();\n    }\n  }\n\n  _onSubmit(event) {\n    event.preventDefault();\n    const val = this._form.testId.value.trim().toLowerCase();\n    this._form.testId.blur();\n    \n    this._removeCurrentFeedback();\n    simpleTransition(this._memeContainer, {opacity: 1}, 0.3);\n    this._spinner.show(800);\n\n    if (!tests[val]) {\n      this._displayFeedback(\"Didn't recognise that test ID\", 'mistake.gif', false);\n      return;\n    }\n\n    tests[val]().then(args => {\n      this._displayFeedback(...args);\n    }).catch(err => {\n      this._displayFeedback(\"Oh dear, something went really wrong\", 'mistake.gif', false);\n      throw err;\n    });\n  }\n\n  _removeCurrentFeedback() {\n    this._feedbackText.textContent = '';\n    this._memeContainer.style.opacity = '';\n    this._spinner.hide();\n\n    if (this._currentMemeImg) {\n      URL.revokeObjectURL(this._currentMemeImg.href);\n      this._memeImgContainer.removeChild(this._currentMemeImg);\n      this._currentMemeImg = undefined;\n    }\n  }\n\n  _displayFeedback(text, url, winning) {\n    this._feedbackText.textContent = text;\n    this._spinner.hide();\n\n    if (winning) {\n      this._feedbackText.classList.remove('fail');\n    }\n    else {\n      this._feedbackText.classList.add('fail');\n    }\n\n    return fetch(`/imgs/test-memes/${url}`).then(r => r.blob()).then(blob => {\n      this._currentMemeImg = new Image();\n      // hahaha, yes, I know\n      this._currentMemeImg.src = URL.createObjectURL(blob.slice(1));\n      this._memeImgContainer.appendChild(this._currentMemeImg);\n    });\n  }\n}","import TestController from './TestController';\n\nconst settingsForm = document.querySelector('.settings-form');\n\nsettingsForm.addEventListener('change', () => {\n  fetch(settingsForm.action, {\n    method: settingsForm.method,\n    body: new FormData(settingsForm)\n  });\n});\n\nif (!self.fetch) {\n  document.querySelector('.warning').style.display = 'block';\n}\n\nnew TestController(document.querySelector('.tester'));","/**\n * @license\n * Copyright 2015 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'use strict';\n\n/**\n * Class constructor for Textfield MDL component.\n * Implements MDL component design pattern defined at:\n * https://github.com/jasonmayes/mdl-component-design-pattern\n *\n * @constructor\n * @param {HTMLElement} element The element that will be upgraded.\n */\nexport default function MaterialTextfield(element) {\n  this.element_ = element;\n  this.maxRows = this.Constant_.NO_MAX_ROWS;\n  // Initialize instance.\n  this.init();\n}\n\n/**\n * Store constants in one place so they can be updated easily.\n *\n * @enum {string | number}\n * @private\n */\nMaterialTextfield.prototype.Constant_ = {\n  NO_MAX_ROWS: -1,\n  MAX_ROWS_ATTRIBUTE: 'maxrows'\n};\n\n/**\n * Store strings for class names defined by this component that are used in\n * JavaScript. This allows us to simply change it in one place should we\n * decide to modify at a later date.\n *\n * @enum {string}\n * @private\n */\nMaterialTextfield.prototype.CssClasses_ = {\n  LABEL: 'mdl-textfield__label',\n  INPUT: 'mdl-textfield__input',\n  IS_DIRTY: 'is-dirty',\n  IS_FOCUSED: 'is-focused',\n  IS_DISABLED: 'is-disabled',\n  IS_INVALID: 'is-invalid',\n  IS_UPGRADED: 'is-upgraded'\n};\n\n/**\n * Handle input being entered.\n *\n * @param {Event} event The event that fired.\n * @private\n */\nMaterialTextfield.prototype.onKeyDown_ = function(event) {\n  var currentRowCount = event.target.value.split('\\n').length;\n  if (event.keyCode === 13) {\n    if (currentRowCount >= this.maxRows) {\n      event.preventDefault();\n    }\n  }\n};\n\n/**\n * Handle focus.\n *\n * @param {Event} event The event that fired.\n * @private\n */\nMaterialTextfield.prototype.onFocus_ = function(event) {\n  this.element_.classList.add(this.CssClasses_.IS_FOCUSED);\n};\n\n/**\n * Handle lost focus.\n *\n * @param {Event} event The event that fired.\n * @private\n */\nMaterialTextfield.prototype.onBlur_ = function(event) {\n  this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);\n};\n\n/**\n * Handle reset event from out side.\n *\n * @param {Event} event The event that fired.\n * @private\n */\nMaterialTextfield.prototype.onReset_ = function(event) {\n  this.updateClasses_();\n};\n\n/**\n * Handle class updates.\n *\n * @private\n */\nMaterialTextfield.prototype.updateClasses_ = function() {\n  this.checkDisabled();\n  this.checkValidity();\n  this.checkDirty();\n};\n\n// Public methods.\n\n/**\n * Check the disabled state and update field accordingly.\n *\n * @public\n */\nMaterialTextfield.prototype.checkDisabled = function() {\n  if (this.input_.disabled) {\n    this.element_.classList.add(this.CssClasses_.IS_DISABLED);\n  } else {\n    this.element_.classList.remove(this.CssClasses_.IS_DISABLED);\n  }\n};\nMaterialTextfield.prototype['checkDisabled'] =\n    MaterialTextfield.prototype.checkDisabled;\n\n/**\n * Check the validity state and update field accordingly.\n *\n * @public\n */\nMaterialTextfield.prototype.checkValidity = function() {\n  if (this.input_.validity) {\n    if (this.input_.validity.valid) {\n      this.element_.classList.remove(this.CssClasses_.IS_INVALID);\n    } else {\n      this.element_.classList.add(this.CssClasses_.IS_INVALID);\n    }\n  }\n};\nMaterialTextfield.prototype['checkValidity'] =\n    MaterialTextfield.prototype.checkValidity;\n\n/**\n * Check the dirty state and update field accordingly.\n *\n * @public\n */\nMaterialTextfield.prototype.checkDirty = function() {\n  if (this.input_.value && this.input_.value.length > 0) {\n    this.element_.classList.add(this.CssClasses_.IS_DIRTY);\n  } else {\n    this.element_.classList.remove(this.CssClasses_.IS_DIRTY);\n  }\n};\nMaterialTextfield.prototype['checkDirty'] =\n    MaterialTextfield.prototype.checkDirty;\n\n/**\n * Disable text field.\n *\n * @public\n */\nMaterialTextfield.prototype.disable = function() {\n  this.input_.disabled = true;\n  this.updateClasses_();\n};\nMaterialTextfield.prototype['disable'] = MaterialTextfield.prototype.disable;\n\n/**\n * Enable text field.\n *\n * @public\n */\nMaterialTextfield.prototype.enable = function() {\n  this.input_.disabled = false;\n  this.updateClasses_();\n};\nMaterialTextfield.prototype['enable'] = MaterialTextfield.prototype.enable;\n\n/**\n * Update text field value.\n *\n * @param {string} value The value to which to set the control (optional).\n * @public\n */\nMaterialTextfield.prototype.change = function(value) {\n\n  if (value) {\n    this.input_.value = value;\n  } else {\n    this.input_.value = '';\n  }\n  this.updateClasses_();\n};\nMaterialTextfield.prototype['change'] = MaterialTextfield.prototype.change;\n\n/**\n * Initialize element.\n */\nMaterialTextfield.prototype.init = function() {\n\n  if (this.element_) {\n    this.label_ = this.element_.querySelector('.' + this.CssClasses_.LABEL);\n    this.input_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);\n\n    if (this.input_) {\n      if (this.input_.hasAttribute(\n            /** @type {string} */ (this.Constant_.MAX_ROWS_ATTRIBUTE))) {\n        this.maxRows = parseInt(this.input_.getAttribute(\n            /** @type {string} */ (this.Constant_.MAX_ROWS_ATTRIBUTE)), 10);\n        if (isNaN(this.maxRows)) {\n          this.maxRows = this.Constant_.NO_MAX_ROWS;\n        }\n      }\n\n      this.boundUpdateClassesHandler = this.updateClasses_.bind(this);\n      this.boundFocusHandler = this.onFocus_.bind(this);\n      this.boundBlurHandler = this.onBlur_.bind(this);\n      this.boundResetHandler = this.onReset_.bind(this);\n      this.input_.addEventListener('input', this.boundUpdateClassesHandler);\n      this.input_.addEventListener('focus', this.boundFocusHandler);\n      this.input_.addEventListener('blur', this.boundBlurHandler);\n      this.input_.addEventListener('reset', this.boundResetHandler);\n\n      if (this.maxRows !== this.Constant_.NO_MAX_ROWS) {\n        // TODO: This should handle pasting multi line text.\n        // Currently doesn't.\n        this.boundKeyDownHandler = this.onKeyDown_.bind(this);\n        this.input_.addEventListener('keydown', this.boundKeyDownHandler);\n      }\n\n      this.updateClasses_();\n      this.element_.classList.add(this.CssClasses_.IS_UPGRADED);\n    }\n  }\n};\n\n/**\n * Downgrade the component\n *\n * @private\n */\nMaterialTextfield.prototype.mdlDowngrade_ = function() {\n  this.input_.removeEventListener('input', this.boundUpdateClassesHandler);\n  this.input_.removeEventListener('focus', this.boundFocusHandler);\n  this.input_.removeEventListener('blur', this.boundBlurHandler);\n  this.input_.removeEventListener('reset', this.boundResetHandler);\n  if (this.boundKeyDownHandler) {\n    this.input_.removeEventListener('keydown', this.boundKeyDownHandler);\n  }\n};","export default class WindowMessenger {\n  constructor(url) {\n    this._requestId = 0;\n    \n    this._iframe = document.createElement('iframe');\n    this._iframe.className = 'hidden-tester';\n    this._ready = new Promise((resolve, reject) => {\n      const listener = e => {\n        resolve();\n        this._iframe.removeEventListener('load', listener);\n        this._iframe.removeEventListener('error', errorListener);\n      };\n      const errorListener = e => {\n        reject(Error(\"Iframe load failed\"));\n        this._iframe.removeEventListener('load', listener);\n        this._iframe.removeEventListener('error', errorListener);\n      };\n      this._iframe.addEventListener('load', listener);\n      this._iframe.addEventListener('error', errorListener);\n      this._iframe.src = url;\n    });\n    document.body.appendChild(this._iframe);\n\n    this._targetOrigin = new URL(url).origin;\n\n    this._windowListener = event => this._onMessage(event);\n    self.addEventListener('message', this._windowListener);\n\n    // message jobs awaiting response {callId: [resolve, reject]}\n    this._pending = {};\n  }\n\n  destruct() {\n    document.body.removeChild(this._iframe);\n    self.removeEventListener('message', this._windowListener);\n  }\n\n  _onMessage(event) {\n    if (event.origin != this._targetOrigin) return;\n\n    if (!event.data.id) {\n      console.log(\"Unexpected message\", event);\n      return;\n    }\n\n    var resolver = this._pending[event.data.id];\n\n    if (!resolver) {\n      console.log(\"No resolver for\", event);\n      return;\n    }\n\n    delete this._pending[event.data.id];\n\n    if (event.data.error) {\n      resolver[1](new Error(event.data.error));\n      return;\n    }\n\n    resolver[0](event.data.result);\n  }\n\n  message(message) {\n    return this._ready.then(_ => {\n      const requestId = ++this._requestId;\n      message.id = requestId;\n\n      return new Promise((resolve, reject) => {\n        this._pending[requestId] = [resolve, reject];\n        this._iframe.contentWindow.postMessage(message, this._targetOrigin);\n      });\n    });\n  }\n}\n","import WindowMessenger from './WindowMessenger';\n\nconst appOrigin = new URL(location.href);\nappOrigin.port = self.config.appPort;\nconst executorUrl = new URL('/remote?bypass-sw', appOrigin);\n\nfunction remoteEval(js) {\n  const messenger = new WindowMessenger(executorUrl);\n  let error;\n\n  if (typeof js === 'function') {\n    js = '(' + js.toString() + ')()';\n  }\n\n  return figureOutConnectionType().then(type => {\n    if (type === 'offline') return [\"Looks like the server is offline\", 'sad.gif', false];\n\n    return messenger.message({\n      eval: js\n    }).catch(err => {\n      error = err;\n    }).then(val => {\n      messenger.destruct();\n      if (error) throw error;\n      return val;\n    });\n  });\n\n}\n\nfunction figureOutConnectionType() {\n  const start = performance.now();\n\n  return Promise.race([\n    fetch(new URL('/ping', appOrigin)),\n    new Promise(r => setTimeout(r, 4000))\n  ]).then(_ => {\n    const duration = performance.now() - start;\n\n    if (duration < 3000) {\n      return 'perfect';\n    }\n    if (duration < 3500) {\n      return 'slow';\n    }\n    return 'lie-fi';\n  }, _ => {\n    return 'offline';\n  });\n}\n\nexport default {\n  demo() {\n    return Promise.resolve([\"Yep, the demo's working!\", 'demo.gif', true]);\n  },\n  offline() {\n    return figureOutConnectionType().then(type => {\n      if (type == 'offline') {\n        return [\"Yep! The server is totally dead!\", '1.gif', true];\n      }\n      return [\"Hmm, no, looks like the server is still up\", 'nope.gif', false];\n    });\n  },\n  ['lie-fi']() {\n    return figureOutConnectionType().then(type => {\n      switch(type) {\n        case \"lie-fi\":\n          return [\"Yeeeep, that's lie-fi alright.\", '2.gif', true];\n        case \"offline\":\n          return [\"Hmm, no, looks like the server is down.\", 'nope.gif', false];\n        default:\n          return [\"The server responded way too fast for lie-fi.\", 'not-quite.gif', false];\n      }\n    });\n  },\n  registered() {\n    return remoteEval(function() {\n      if (navigator.serviceWorker.controller) return [\"Service worker successfully registered!\", '3.gif', true];\n      return [\"Doesn't look like there's a service worker registered :(\", 'nope.gif', false];\n    });\n  },\n  ['sw-waiting']() {\n    return remoteEval(function() {\n      return navigator.serviceWorker.getRegistration('/').then(reg => {\n        if (!reg) return [\"Doesn't look like there's a service worker registered at all!\", 'sad.gif', false];\n        if (!reg.waiting) return [\"There's no service worker waiting\", 'nope.gif', false];\n        return [\"Yey! There's a service worker waiting!\", \"4.gif\", true];\n      });\n    });\n  },\n  ['sw-active']() {\n    return remoteEval(function() {\n      return navigator.serviceWorker.getRegistration('/').then(reg => {\n        if (!reg) return [\"Doesn't look like there's a service worker registered at all!\", 'sad.gif', false];\n        if (reg.waiting) return [\"There's still a service worker waiting\", 'nope.gif', false];\n        return [\"No service worker waiting! Yay!\", \"5.gif\", true];\n      });\n    });\n  },\n  ['html-response']() {\n    return remoteEval(function() {\n      return fetch('/').then(response => {\n        const type = response.headers.get('content-type');\n\n        if (!type || (type.toLowerCase() != 'text/html' && !type.toLowerCase().startsWith('text/html'))) {\n          return [\"The response doesn't have the 'Content-Type: text/html' header\", 'nope.gif', false];\n        }\n\n        return response.text().then(text => new DOMParser().parseFromString(text, 'text/html')).then(doc => {\n          if (doc.body.querySelector('.a-winner-is-me')) {\n            return [\"Custom HTML response found! Yay!\", \"6.gif\", true];\n          }\n          return [\"Can't find an element with class 'a-winner-is-me'\", 'nope.gif', false];\n        });\n      });\n    });\n  },\n  ['gif-response']() {\n    return remoteEval(function() {\n      return fetch('/').then(response => {\n        const type = response.headers.get('content-type');\n\n        if (!type || !type.toLowerCase().startsWith('text/html')) {\n          return [\"Looks like it isn't just URLs ending with .jpg that are being intercepted\", 'not-quite.gif', false];\n        }\n\n        return fetch('/blah.jpg').then(response => {\n          const type = response.headers.get('content-type');\n\n          if (!type || !type.toLowerCase().startsWith('image/gif')) {\n            return [\"Doesn't look like urls ending .jpg are getting a gif in response\", 'no-cry.gif', false];\n          }\n\n          return [\"Images are being intercepted!\", \"7.gif\", true];\n        })\n      });\n    })\n  },\n  ['gif-404']() {\n    return remoteEval(function() {\n      return Promise.all([\n        fetch('/'),\n        fetch('/imgs/dr-evil.gif?bypass-sw'),\n        fetch('/' + Math.random())\n      ]).then(responses => {\n        const pageType = responses[0].headers.get('content-type');\n\n        if (!pageType || !pageType.toLowerCase().startsWith('text/html')) {\n          return [\"Looks like non-404 pages are getting the gif too\", 'not-quite.gif', false];\n        }\n\n        const type = responses[2].headers.get('content-type');\n\n        if (!type || !type.toLowerCase().startsWith('image/gif')) {\n          return [\"Doesn't look like 404 responses are getting a gif in return\", 'nope.gif', false];\n        }\n\n        return Promise.all(\n          responses.slice(1).map(r => r.arrayBuffer().then(b => new Uint8Array(b)))\n        ).then(arrays => {\n          const itemsToCheck = 2000;\n          const a1 = arrays[0];\n          const a2 = arrays[1];\n\n          for (let i = 0; i < itemsToCheck; i++) {\n            if (a1[i] !== a2[i]) {\n              return [\"Doesn't look like 404 responses are getting the dr-evil gif in return\", 'not-quite.gif', false];\n            }\n          }\n          return [\"Yay! 404 pages get gifs!\", \"8.gif\", true];\n        })\n      })\n    });\n  },\n  ['install-cached']() {\n    return remoteEval(function() {\n      const expectedUrls = [\n        '/',\n        '/js/main.js',\n        '/css/main.css',\n        '/imgs/icon.png',\n        'https://fonts.gstatic.com/s/roboto/v15/2UX7WLTfW3W8TclTUvlFyQ.woff',\n        'https://fonts.gstatic.com/s/roboto/v15/d-6IYplOFocCacKzxwXSOD8E0i7KZn-EPnyo3HZu7kw.woff'\n      ].map(url => new URL(url, location).href);\n\n      return caches.has('wittr-static-v1').then(has => {\n        if (!has) return [\"Can't find a cache named wittr-static-v1\", 'nope.gif', false];\n\n        return caches.open('wittr-static-v1').then(c => c.keys()).then(reqs => {\n          const urls = reqs.map(r => r.url);\n          const allAccountedFor = expectedUrls.every(url => urls.includes(url));\n\n          if (allAccountedFor) {\n            return [\"Yay! The cache is ready to go!\", \"9.gif\", true];\n          }\n          return [\"The cache is there, but it's missing some things\", 'not-quite.gif', false];\n        });\n      })\n    });\n  },\n  ['cache-served']() {\n    return remoteEval(function() {\n      return Promise.all([\n        fetch('/'),\n        fetch('/ping').then(r => r.json()).catch(e => ({ok: false}))\n      ]).then(responses => {\n        const cachedResponse = responses[0];\n        const jsonResponse = responses[1];\n\n        if (!jsonResponse.ok) return [\"Doesn't look like non-cached requests are getting through\", 'not-quite.gif', false];\n\n        return new Promise(r => setTimeout(r, 2000)).then(_ => fetch('/')).then(response => {\n          if (cachedResponse.headers.get('Date') === response.headers.get('Date')) {\n            return [\"Yay! Cached responses are being returned!\", \"10.gif\", true];\n          }\n          return [\"Doesn't look like responses are returned from the cache\", 'nope.gif', false];\n        })\n      });\n    });\n  },\n  ['new-cache-ready']() {\n    return remoteEval(function() {\n      return Promise.all([\n        caches.has('wittr-static-v1'),\n        caches.has('wittr-static-v2')\n      ]).then(hasCaches => {\n        if (!hasCaches[0]) return [\"Looks like the v1 cache has already gone\", 'sad.gif', false];\n        if (!hasCaches[1]) return [\"Can't find the wittr-static-v2 cache\", 'sad.gif', false];\n\n        return Promise.all(\n          ['wittr-static-v1', 'wittr-static-v2'].map(name => {\n            return caches.open(name)\n              .then(c => c.match('/css/main.css'))\n              .then(r => r && r.text())\n          })\n        ).then(cssTexts => {\n          if (!cssTexts[0]) return [\"Can't find CSS in the v1 cache\", 'sad.gif', false];\n          if (!cssTexts[1]) return [\"Can't find CSS in the v2 cache\", 'sad.gif', false];\n\n          if (cssTexts[0] === cssTexts[1]) {\n            return [\"There's a new cache, but the CSS looks the same\", 'nope.gif', false];\n          }\n          return [\"Yay! The new cache is ready, but isn't disrupting current pages\", \"11.gif\", true];\n        });\n      });\n    })\n  },\n  ['new-cache-used']() {\n    return remoteEval(function() {\n      return Promise.all([\n        caches.has('wittr-static-v1'),\n        caches.has('wittr-static-v2')\n      ]).then(hasCaches => {\n        if (hasCaches[0]) return [\"Looks like the v1 cache is still there\", 'not-quite.gif', false];\n        if (!hasCaches[1]) return [\"Can't find the wittr-static-v2 cache\", 'sad.gif', false];\n\n        return Promise.all([\n          fetch('/css/main.css'),\n          new Promise(r => setTimeout(r, 2000)).then(_ => fetch('/css/main.css'))\n        ]).then(responses => {\n          if (responses[0].headers.get('Date') != responses[1].headers.get('Date')) {\n            return [\"Doesn't look like the CSS is being served from the cache\", 'mistake.gif', false];\n          }\n\n          return openIframe('/').then(iframe => {\n            const win = iframe.contentWindow;\n            const doc = win.document;\n            const bg = win.getComputedStyle(doc.querySelector('.toolbar')).backgroundColor;\n\n            if (bg == 'rgb(63, 81, 181)') {\n              return [\"Doesn't look like the header color has changed\", 'no-cry.gif', false]; \n            }\n            return [\"Yay! You safely updated the CSS!\", \"12.gif\", true];\n          });\n        })\n      })\n    });\n  },\n  ['update-notify']() {\n    return remoteEval(function() {\n      return navigator.serviceWorker.getRegistration().then(reg => {\n        if (!reg.waiting) return [\"Doesn't look like there's a waiting worker\", 'nope.gif', false];\n\n        return openIframe('/').then(iframe => {\n          const win = iframe.contentWindow;\n          const doc = win.document;\n\n          return new Promise(r => setTimeout(r, 500)).then(_ => {\n            if (doc.querySelector('.toast')) {\n              return [\"Yay! There are notifications!\", \"13.gif\", true];\n            }\n            return [\"Doesn't look like there's a notification being triggered\", 'sad.gif', false];\n          })\n        });\n      });\n    })\n  },\n  ['update-reload']() {\n    return remoteEval(function() {\n      return navigator.serviceWorker.getRegistration().then(reg => {\n        if (!reg.waiting) return [\"Doesn't look like there's a waiting worker\", 'nope.gif', false];\n\n        return openIframe('/').then(iframe => {\n          const win = iframe.contentWindow;\n          const doc = win.document;\n\n          return new Promise(resolve => {\n            setTimeout(_ => resolve([\"Didn't detect the page being reloaded :(\", 'sad.gif', false]), 8000);\n            iframe.addEventListener('load', _ => {\n              resolve([\"Yay! The page reloaded!\", \"14.gif\", true]);\n            })\n          });\n        });\n      });\n    })\n  },\n  ['serve-skeleton']() {\n    return remoteEval(function() {\n      return fetch('/').then(r => r.text()).then(text => {\n        if (text.includes('post-content')) {\n          return [\"Doesn't look like the page skeleton is being served\", 'nope.gif', false];\n        }\n\n        return fetch('https://google.com/').then(r => r.text()).catch(e => '').then(gText => {\n          if (gText == text) {\n            return [\"Looks like you're serving the skeleton for https://google.com/ too!\", 'not-quite.gif', false];\n          }\n          return [\"Yay! The page skeleton is being served!\", \"15.gif\", true];\n        });\n      });\n    });\n  },\n  ['idb-animal']() {\n    return remoteEval(function() {\n      return openDb('test-db').then(db => {\n        const tx = db.transaction('keyval');\n        return tx.objectStore('keyval').get('favoriteAnimal').then(animal => {\n          if (!animal) return [\"Can't find favoriteAnimal in keyval\", 'nope.gif', false];\n          return [\"Yay! Your favorite animal is \\\"\" + animal + \"\\\"\", \"16.gif\", true];\n        })\n      }, err => {\n        return [\"Couldn't open the test-db database at all :(\", 'sad.gif', false];\n      })\n    });\n  },\n  ['idb-age']() {\n    return remoteEval(function() {\n      return openDb('test-db').then(db => {\n        if (!Array.from(db.objectStoreNames).includes('people')) {\n          return [\"Can't find the 'people' objectStore\", 'mistake.gif', false]; \n        }\n\n        const tx = db.transaction('people');\n        const store = tx.objectStore('people');\n\n        if (!Array.from(store.indexNames).includes('age')) {\n          return [\"Can't find the 'age' index in the 'people' objectStore\", 'sad.gif', false];\n        }\n\n        const index = store.index('age');\n\n        if (index.keyPath == 'age') {\n          return [\"Yay! The age index is working\", \"17.gif\", true];\n        }\n\n        return [\"The age index isn't indexed by age\", 'nope.gif', false];\n      }, err => {\n        return [\"Couldn't open the test-db database at all :(\", 'sad.gif', false];\n      })\n    });\n  },\n  ['idb-store']() {\n    return remoteEval(function() {\n      return openDb('wittr').then(db => {\n        if (!Array.from(db.objectStoreNames).includes('wittrs')) {\n          return [\"There isn't a 'wittrs' objectStore\", 'sad.gif', false];\n        }\n\n        const tx = db.transaction('wittrs');\n        const store = tx.objectStore('wittrs');\n\n        if (store.keyPath != 'id') {\n          return [\"'wittrs' objectStore doesn't use 'id' as its primary key\", 'nope.gif', false];\n        }\n\n        if (!Array.from(store.indexNames).includes('by-date')) {\n          return [\"There isn't a 'by-date' index on the 'wittrs' objectStore\", 'nope.gif', false];\n        }\n\n        const index = store.index('by-date');\n\n        if (index.keyPath != 'time') {\n          return [\"The 'by-date' index isn't using 'time' as its key\", 'nope.gif', false];\n        }\n\n        return store.getAll().then(messages => {\n          if (!messages.length) {\n            return [\"The objectStore is there, but it's empty\", 'sad.gif', false];\n          }\n\n          const looksMessagey = messages.every(message => {\n            return message.id && message.avatar && message.name && message.time && message.body;\n          });\n\n          if (looksMessagey) {\n            return [\"The database is set up and populated!\", \"18.gif\", true];\n          }\n\n          return [\"Looks like some incorrect data is in the database\", 'not-quite.gif', false];\n        });\n      }, () => {\n        return [\"Couldn't open the 'wittr' database at all :(\", 'sad.gif', false];\n      });\n    });\n  },\n  ['idb-show']() {\n    return remoteEval(function() {\n      return openDb('wittr').then(db => {\n        return openIframe('/?no-socket').then(iframe => {\n          const win = iframe.contentWindow;\n          const doc = win.document;\n\n          return new Promise(r => setTimeout(r, 500)).then(() => {\n            const times = Array.from(doc.querySelectorAll('.post-content time'));\n            if (!times.length) return [\"Page looks empty without the web socket\", 'nope.gif', false];\n\n            const inOrder = times.map(t => new Date(t.getAttribute('datetime'))).every((time, i, arr) => {\n              const nextTime = arr[i+1];\n              if (!nextTime) return true;\n              return time >= nextTime;\n            });\n\n            if (!inOrder) return [\"So close! But the newest post should appear at the top\", 'not-quite.gif', false];\n            return [\"Page populated from IDB!\", \"19.gif\", true];\n          });\n        });\n      }, () => {\n        return [\"Couldn't open the 'wittr' database at all :(\", 'sad.gif', false];\n      });\n    });\n  },\n  ['idb-clean']() {\n    return remoteEval(function() {\n      return openDb('wittr').then(db => {\n        const tx = db.transaction('wittrs');\n        const store = tx.objectStore('wittrs');\n\n        return store.count().then(num => {\n          if (num > 30) {\n            return [\"There are more than 30 items in the store\", 'nope.gif', false];\n          }\n\n          if (num < 30) {\n            return [\"There are less than 30 items in the store, so it isn't clear if this is working\", 'not-quite.gif', false];\n          }\n\n          return [\"Looks like the database is being cleaned!\", \"20.gif\", true];\n        });\n      }, () => {\n        return [\"Couldn't open the 'wittr' database at all :(\", 'sad.gif', false];\n      });\n    });\n  },\n  ['cache-photos']() {\n    return remoteEval(function() {\n      return caches.has('wittr-content-imgs').then(hasCache => {\n        if (!hasCache) return [\"There isn't a 'wittr-content-imgs' cache\", 'sad.gif', false];\n\n        // clear cache\n        return caches.delete('wittr-content-imgs').then(() => {\n          const imageUrlSmall = '/photos/4-3087-2918949798-865f134ef3-320px.jpg';\n          const imageUrlMedium = '/photos/4-3087-2918949798-865f134ef3-640px.jpg';\n\n          return fetch(imageUrlMedium).then(medResponse => {\n            return new Promise(r => setTimeout(r, 2000))\n              .then(() => fetch(imageUrlMedium)).then(anotherMedResponse => {\n                if (medResponse.headers.get('Date') != anotherMedResponse.headers.get('Date')) {\n                  return [\"Doesn't look like images are being returned from the cache\", 'nope.gif', false];\n                }\n\n                return fetch(imageUrlSmall).then(smallResponse => {\n                  return Promise.all([smallResponse.blob(), medResponse.blob()]);\n                }).then(blobs => {\n                  if (blobs[0].size != blobs[1].size) {\n                    return [\"The originally cached image isn't being returned for different sizes\", 'nope.gif', false];\n                  }\n                  return [\"Photos are being cached and served correctly!\", \"21.gif\", true];\n                });\n              });\n          });\n        });\n      });\n    });\n  },\n  ['cache-clean']() {\n    return remoteEval(function() {\n      return caches.open('wittr-content-imgs').then(cache => {\n        const imageUrlMedium = '/photos/4-3087-2918949798-865f134ef3-640px.jpg';\n\n        return fetch(imageUrlMedium).then(r => r.blob()).then(() => new Promise(r => setTimeout(r, 500))).then(() => {\n          return cache.match('/photos/4-3087-2918949798-865f134ef3').then(response => {\n            if (!response) return [\"Photos aren't appearing in the cache where we'd expect\", 'not-quite.gif', false];\n\n            const start = Date.now();\n\n            return Promise.resolve().then(function checkCache() {\n              if (Date.now() - start > 8000) {\n                return [\"The image cache doesn't seem to be getting cleaned\", 'nope.gif', false]; \n              }\n\n              return cache.match('/photos/4-3087-2918949798-865f134ef3').then(response => {\n                if (!response) {\n                  return [\"Yay! The image cache is being cleaned!\", '22.gif', true];\n                }\n                return new Promise(r => setTimeout(r, 100)).then(checkCache);\n              });\n            });\n          });\n        });\n      });\n    });\n  },\n  ['cache-avatars']() {\n    return remoteEval(function() {\n      return caches.delete('wittr-content-imgs').then(() => {\n        const imageUrlSmall = '/avatars/marc-1x.jpg';\n        const imageUrlMedium = '/avatars/marc-2x.jpg';\n\n        return fetch(imageUrlSmall).then(smallResponse => {\n          return new Promise(r => setTimeout(r, 2000))\n            .then(() => fetch(imageUrlMedium)).then(medResponse => {\n              if (smallResponse.headers.get('Date') != medResponse.headers.get('Date')) {\n                return [\"Doesn't look like avatars are being returned from the cache, even if the request is for a different size\", 'nope.gif', false];\n              }\n\n              return new Promise(r => setTimeout(r, 2000)).then(() => fetch(imageUrlMedium)).then(anotherMedResponse => {\n                if (medResponse.headers.get('Date') == anotherMedResponse.headers.get('Date')) {\n                  return [\"Doesn't look like avatars are being updated after being returned from the cache\", 'nope.gif', false];\n                }\n                return [\"Avatars are being cached, served and updated correctly!\", \"23.gif\", true];\n              });\n            });\n        });\n      });\n    });\n  }\n};","import parseHTML from '../../utils/parseHTML';\n\nexport default class Spinner {\n  constructor() {\n    this.container = parseHTML(\n      '<div class=\"spinner\">' +\n        '<div class=\"spinner-container\">' +\n          '<div class=\"spinner-layer\">' +\n            '<div class=\"circle-clipper left\">' +\n              '<div class=\"circle\"></div>' +\n            '</div>' +\n            '<div class=\"gap-patch\">' +\n              '<div class=\"circle\"></div>' +\n            '</div>' +\n            '<div class=\"circle-clipper right\">' +\n              '<div class=\"circle\"></div>' +\n            '</div>' +\n          '</div>' +\n        '</div>' +\n      '</div>' +\n    '').firstChild;\n\n    this._showTimeout = null;\n    this.container.style.display = 'none';\n\n    var animEndListener = event => {\n      if (event.target == this.container) {\n        this.container.style.display = 'none';\n      }\n    };\n\n    this.container.addEventListener('webkitAnimationEnd', animEndListener);\n    this.container.addEventListener('animationend', animEndListener);\n  }\n\n  show(delay = 300) {\n    clearTimeout(this._showTimeout);\n    this.container.style.display = 'none';\n    this.container.classList.remove('cooldown');\n    this._showTimeout = setTimeout(_ => {\n      this.container.style.display = '';\n    }, delay);\n  }\n\n  hide() {\n    clearTimeout(this._showTimeout);\n    this.container.classList.add('cooldown');\n  }\n}\n","var contextRange = document.createRange();\ncontextRange.setStart(document.body, 0);\n\nexport default function strToEls(str) {\n  return contextRange.createContextualFragment(str);\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvc2ltcGxlLXRyYW5zaXRpb24vaW5kZXguanMiLCIvaG9tZS9uYXRhY2hhL0RvY3VtZW50cy9jb2RlL3VkYWNpdHktYWR2YW5jZWQtZnJvbnQtZW5kLW5hbm9kZWdyZWUvd2l0dHIvcHVibGljL2pzL3NldHRpbmdzL1Rlc3RDb250cm9sbGVyLmpzIiwiL2hvbWUvbmF0YWNoYS9Eb2N1bWVudHMvY29kZS91ZGFjaXR5LWFkdmFuY2VkLWZyb250LWVuZC1uYW5vZGVncmVlL3dpdHRyL3B1YmxpYy9qcy9zZXR0aW5ncy9pbmRleC5qcyIsIi9ob21lL25hdGFjaGEvRG9jdW1lbnRzL2NvZGUvdWRhY2l0eS1hZHZhbmNlZC1mcm9udC1lbmQtbmFub2RlZ3JlZS93aXR0ci9wdWJsaWMvanMvc2V0dGluZ3MvbWRsL3RleHRmaWVsZC5qcyIsIi9ob21lL25hdGFjaGEvRG9jdW1lbnRzL2NvZGUvdWRhY2l0eS1hZHZhbmNlZC1mcm9udC1lbmQtbmFub2RlZ3JlZS93aXR0ci9wdWJsaWMvanMvc2V0dGluZ3MvdGVzdHMvV2luZG93TWVzc2VuZ2VyLmpzIiwiL2hvbWUvbmF0YWNoYS9Eb2N1bWVudHMvY29kZS91ZGFjaXR5LWFkdmFuY2VkLWZyb250LWVuZC1uYW5vZGVncmVlL3dpdHRyL3B1YmxpYy9qcy9zZXR0aW5ncy90ZXN0cy9pbmRleC5qcyIsIi9ob21lL25hdGFjaGEvRG9jdW1lbnRzL2NvZGUvdWRhY2l0eS1hZHZhbmNlZC1mcm9udC1lbmQtbmFub2RlZ3JlZS93aXR0ci9wdWJsaWMvanMvc2V0dGluZ3Mvdmlld3Mvc3Bpbm5lci5qcyIsIi9ob21lL25hdGFjaGEvRG9jdW1lbnRzL2NvZGUvdWRhY2l0eS1hZHZhbmNlZC1mcm9udC1lbmQtbmFub2RlZ3JlZS93aXR0ci9wdWJsaWMvanMvdXRpbHMvcGFyc2VIVE1MLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJB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LENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQzVDLFVBQUksQ0FBQyxZQUFZLEdBQUcsVUFBVSxDQUFDLFVBQUEsQ0FBQyxFQUFJO0FBQ2xDLGVBQUssU0FBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO09BQ25DLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDWDs7O1dBRUcsZ0JBQUc7QUFDTCxrQkFBWSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNoQyxVQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7S0FDMUM7OztTQTdDa0IsT0FBTzs7O3FCQUFQLE9BQU87Ozs7Ozs7OztxQkNDSixRQUFRO0FBSGhDLElBQUksWUFBWSxHQUFHLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUMxQyxZQUFZLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7O0FBRXpCLFNBQVMsUUFBUSxDQUFDLEdBQUcsRUFBRTtBQUNwQyxTQUFPLFlBQVksQ0FBQyx3QkFBd0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNuRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zaXRpb24oZWwsIG9iaiwgZHVyYXRpb24sIGVhc2luZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKG9iai50cmFuc2Zvcm0pIHtcbiAgICAgIG9ialsnLXdlYmtpdC10cmFuc2Zvcm0nXSA9IG9iai50cmFuc2Zvcm07XG4gICAgfVxuXG4gICAgdmFyIG9iaktleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuXG4gICAgaWYgKGR1cmF0aW9uKSB7XG4gICAgICBlbC5zdHlsZS50cmFuc2l0aW9uUHJvcGVydHkgPSBvYmpLZXlzLmpvaW4oKTtcbiAgICAgIGlmIChlYXNpbmcpIGVsLnN0eWxlLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9IGVhc2luZztcbiAgICAgIGVsLnN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IGR1cmF0aW9uICsgJ3MnO1xuICAgICAgZWwub2Zmc2V0TGVmdDsgLy8gc3R5bGUgcmVjYWxjXG5cbiAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBmdW5jdGlvbiB0ZSgpIHtcbiAgICAgICAgZWwuc3R5bGUudHJhbnNpdGlvblByb3BlcnR5ID0gJyc7XG4gICAgICAgIGVsLnN0eWxlLnRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiA9ICcnO1xuICAgICAgICBlbC5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSAnJztcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgdGUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIG9iaktleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KGtleSwgb2JqW2tleV0pO1xuICAgIH0pO1xuICB9KTtcbn07XG4iLCJpbXBvcnQgTWF0ZXJpYWxUZXh0ZmllbGQgZnJvbSAnLi9tZGwvdGV4dGZpZWxkJztcbmltcG9ydCBzaW1wbGVUcmFuc2l0aW9uIGZyb20gJ3NpbXBsZS10cmFuc2l0aW9uJztcbmltcG9ydCBTcGlubmVyVmlldyBmcm9tICcuL3ZpZXdzL3NwaW5uZXInO1xuaW1wb3J0IHRlc3RzIGZyb20gJy4vdGVzdHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXN0Q29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgIHRoaXMuX21lbWVDb250YWluZXIgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLm1lbWUtY29udGFpbmVyJyk7XG4gICAgdGhpcy5fbWVtZUltZ0NvbnRhaW5lciA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcubWVtZS1pbWctY29udGFpbmVyJyk7XG4gICAgdGhpcy5fZmVlZGJhY2tUZXh0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5mZWVkYmFjay10ZXh0Jyk7XG4gICAgdGhpcy5fZm9ybSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcudGVzdC1mb3JtJyk7XG4gICAgdGhpcy5fY3VycmVudE1lbWVJbWcgPSBudWxsO1xuICAgIHRoaXMuX3NwaW5uZXIgPSBuZXcgU3Bpbm5lclZpZXcoKTtcblxuICAgIHRoaXMuX21lbWVDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fc3Bpbm5lci5jb250YWluZXIpO1xuXG4gICAgbmV3IE1hdGVyaWFsVGV4dGZpZWxkKGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcubWRsLWpzLXRleHRmaWVsZCcpKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGUgPT4gdGhpcy5fb25TdWJtaXQoZSkpO1xuICAgIHRoaXMuX2Zvcm0udGVzdElkLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZSA9PiB0aGlzLl9vbklucHV0KGUpKTtcblxuICB9XG5cbiAgX29uSW5wdXQoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuX2Zvcm0udGVzdElkLnZhbHVlLnRyaW0oKSkge1xuICAgICAgdGhpcy5fcmVtb3ZlQ3VycmVudEZlZWRiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgX29uU3VibWl0KGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB2YWwgPSB0aGlzLl9mb3JtLnRlc3RJZC52YWx1ZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLl9mb3JtLnRlc3RJZC5ibHVyKCk7XG4gICAgXG4gICAgdGhpcy5fcmVtb3ZlQ3VycmVudEZlZWRiYWNrKCk7XG4gICAgc2ltcGxlVHJhbnNpdGlvbih0aGlzLl9tZW1lQ29udGFpbmVyLCB7b3BhY2l0eTogMX0sIDAuMyk7XG4gICAgdGhpcy5fc3Bpbm5lci5zaG93KDgwMCk7XG5cbiAgICBpZiAoIXRlc3RzW3ZhbF0pIHtcbiAgICAgIHRoaXMuX2Rpc3BsYXlGZWVkYmFjayhcIkRpZG4ndCByZWNvZ25pc2UgdGhhdCB0ZXN0IElEXCIsICdtaXN0YWtlLmdpZicsIGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0ZXN0c1t2YWxdKCkudGhlbihhcmdzID0+IHtcbiAgICAgIHRoaXMuX2Rpc3BsYXlGZWVkYmFjayguLi5hcmdzKTtcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgdGhpcy5fZGlzcGxheUZlZWRiYWNrKFwiT2ggZGVhciwgc29tZXRoaW5nIHdlbnQgcmVhbGx5IHdyb25nXCIsICdtaXN0YWtlLmdpZicsIGZhbHNlKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxuXG4gIF9yZW1vdmVDdXJyZW50RmVlZGJhY2soKSB7XG4gICAgdGhpcy5fZmVlZGJhY2tUZXh0LnRleHRDb250ZW50ID0gJyc7XG4gICAgdGhpcy5fbWVtZUNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gJyc7XG4gICAgdGhpcy5fc3Bpbm5lci5oaWRlKCk7XG5cbiAgICBpZiAodGhpcy5fY3VycmVudE1lbWVJbWcpIHtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5fY3VycmVudE1lbWVJbWcuaHJlZik7XG4gICAgICB0aGlzLl9tZW1lSW1nQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuX2N1cnJlbnRNZW1lSW1nKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRNZW1lSW1nID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIF9kaXNwbGF5RmVlZGJhY2sodGV4dCwgdXJsLCB3aW5uaW5nKSB7XG4gICAgdGhpcy5fZmVlZGJhY2tUZXh0LnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB0aGlzLl9zcGlubmVyLmhpZGUoKTtcblxuICAgIGlmICh3aW5uaW5nKSB7XG4gICAgICB0aGlzLl9mZWVkYmFja1RleHQuY2xhc3NMaXN0LnJlbW92ZSgnZmFpbCcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX2ZlZWRiYWNrVGV4dC5jbGFzc0xpc3QuYWRkKCdmYWlsJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZldGNoKGAvaW1ncy90ZXN0LW1lbWVzLyR7dXJsfWApLnRoZW4ociA9PiByLmJsb2IoKSkudGhlbihibG9iID0+IHtcbiAgICAgIHRoaXMuX2N1cnJlbnRNZW1lSW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAvLyBoYWhhaGEsIHllcywgSSBrbm93XG4gICAgICB0aGlzLl9jdXJyZW50TWVtZUltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2Iuc2xpY2UoMSkpO1xuICAgICAgdGhpcy5fbWVtZUltZ0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9jdXJyZW50TWVtZUltZyk7XG4gICAgfSk7XG4gIH1cbn0iLCJpbXBvcnQgVGVzdENvbnRyb2xsZXIgZnJvbSAnLi9UZXN0Q29udHJvbGxlcic7XG5cbmNvbnN0IHNldHRpbmdzRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZXR0aW5ncy1mb3JtJyk7XG5cbnNldHRpbmdzRm9ybS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiB7XG4gIGZldGNoKHNldHRpbmdzRm9ybS5hY3Rpb24sIHtcbiAgICBtZXRob2Q6IHNldHRpbmdzRm9ybS5tZXRob2QsXG4gICAgYm9keTogbmV3IEZvcm1EYXRhKHNldHRpbmdzRm9ybSlcbiAgfSk7XG59KTtcblxuaWYgKCFzZWxmLmZldGNoKSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53YXJuaW5nJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59XG5cbm5ldyBUZXN0Q29udHJvbGxlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGVzdGVyJykpOyIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2xhc3MgY29uc3RydWN0b3IgZm9yIFRleHRmaWVsZCBNREwgY29tcG9uZW50LlxuICogSW1wbGVtZW50cyBNREwgY29tcG9uZW50IGRlc2lnbiBwYXR0ZXJuIGRlZmluZWQgYXQ6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vamFzb25tYXllcy9tZGwtY29tcG9uZW50LWRlc2lnbi1wYXR0ZXJuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSB1cGdyYWRlZC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTWF0ZXJpYWxUZXh0ZmllbGQoZWxlbWVudCkge1xuICB0aGlzLmVsZW1lbnRfID0gZWxlbWVudDtcbiAgdGhpcy5tYXhSb3dzID0gdGhpcy5Db25zdGFudF8uTk9fTUFYX1JPV1M7XG4gIC8vIEluaXRpYWxpemUgaW5zdGFuY2UuXG4gIHRoaXMuaW5pdCgpO1xufVxuXG4vKipcbiAqIFN0b3JlIGNvbnN0YW50cyBpbiBvbmUgcGxhY2Ugc28gdGhleSBjYW4gYmUgdXBkYXRlZCBlYXNpbHkuXG4gKlxuICogQGVudW0ge3N0cmluZyB8IG51bWJlcn1cbiAqIEBwcml2YXRlXG4gKi9cbk1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5Db25zdGFudF8gPSB7XG4gIE5PX01BWF9ST1dTOiAtMSxcbiAgTUFYX1JPV1NfQVRUUklCVVRFOiAnbWF4cm93cydcbn07XG5cbi8qKlxuICogU3RvcmUgc3RyaW5ncyBmb3IgY2xhc3MgbmFtZXMgZGVmaW5lZCBieSB0aGlzIGNvbXBvbmVudCB0aGF0IGFyZSB1c2VkIGluXG4gKiBKYXZhU2NyaXB0LiBUaGlzIGFsbG93cyB1cyB0byBzaW1wbHkgY2hhbmdlIGl0IGluIG9uZSBwbGFjZSBzaG91bGQgd2VcbiAqIGRlY2lkZSB0byBtb2RpZnkgYXQgYSBsYXRlciBkYXRlLlxuICpcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5NYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUuQ3NzQ2xhc3Nlc18gPSB7XG4gIExBQkVMOiAnbWRsLXRleHRmaWVsZF9fbGFiZWwnLFxuICBJTlBVVDogJ21kbC10ZXh0ZmllbGRfX2lucHV0JyxcbiAgSVNfRElSVFk6ICdpcy1kaXJ0eScsXG4gIElTX0ZPQ1VTRUQ6ICdpcy1mb2N1c2VkJyxcbiAgSVNfRElTQUJMRUQ6ICdpcy1kaXNhYmxlZCcsXG4gIElTX0lOVkFMSUQ6ICdpcy1pbnZhbGlkJyxcbiAgSVNfVVBHUkFERUQ6ICdpcy11cGdyYWRlZCdcbn07XG5cbi8qKlxuICogSGFuZGxlIGlucHV0IGJlaW5nIGVudGVyZWQuXG4gKlxuICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRoYXQgZmlyZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5NYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUub25LZXlEb3duXyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIHZhciBjdXJyZW50Um93Q291bnQgPSBldmVudC50YXJnZXQudmFsdWUuc3BsaXQoJ1xcbicpLmxlbmd0aDtcbiAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgaWYgKGN1cnJlbnRSb3dDb3VudCA+PSB0aGlzLm1heFJvd3MpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZSBmb2N1cy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQgdGhhdCBmaXJlZC5cbiAqIEBwcml2YXRlXG4gKi9cbk1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5vbkZvY3VzXyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpO1xufTtcblxuLyoqXG4gKiBIYW5kbGUgbG9zdCBmb2N1cy5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQgdGhhdCBmaXJlZC5cbiAqIEBwcml2YXRlXG4gKi9cbk1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5vbkJsdXJfID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRk9DVVNFRCk7XG59O1xuXG4vKipcbiAqIEhhbmRsZSByZXNldCBldmVudCBmcm9tIG91dCBzaWRlLlxuICpcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBldmVudCB0aGF0IGZpcmVkLlxuICogQHByaXZhdGVcbiAqL1xuTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlLm9uUmVzZXRfID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgdGhpcy51cGRhdGVDbGFzc2VzXygpO1xufTtcblxuLyoqXG4gKiBIYW5kbGUgY2xhc3MgdXBkYXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5NYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUudXBkYXRlQ2xhc3Nlc18gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jaGVja0Rpc2FibGVkKCk7XG4gIHRoaXMuY2hlY2tWYWxpZGl0eSgpO1xuICB0aGlzLmNoZWNrRGlydHkoKTtcbn07XG5cbi8vIFB1YmxpYyBtZXRob2RzLlxuXG4vKipcbiAqIENoZWNrIHRoZSBkaXNhYmxlZCBzdGF0ZSBhbmQgdXBkYXRlIGZpZWxkIGFjY29yZGluZ2x5LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuaW5wdXRfLmRpc2FibGVkKSB7XG4gICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RJU0FCTEVEKTtcbiAgfVxufTtcbk1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZVsnY2hlY2tEaXNhYmxlZCddID1cbiAgICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUuY2hlY2tEaXNhYmxlZDtcblxuLyoqXG4gKiBDaGVjayB0aGUgdmFsaWRpdHkgc3RhdGUgYW5kIHVwZGF0ZSBmaWVsZCBhY2NvcmRpbmdseS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbk1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5jaGVja1ZhbGlkaXR5ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmlucHV0Xy52YWxpZGl0eSkge1xuICAgIGlmICh0aGlzLmlucHV0Xy52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfSU5WQUxJRCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0lOVkFMSUQpO1xuICAgIH1cbiAgfVxufTtcbk1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZVsnY2hlY2tWYWxpZGl0eSddID1cbiAgICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUuY2hlY2tWYWxpZGl0eTtcblxuLyoqXG4gKiBDaGVjayB0aGUgZGlydHkgc3RhdGUgYW5kIHVwZGF0ZSBmaWVsZCBhY2NvcmRpbmdseS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbk1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5jaGVja0RpcnR5ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmlucHV0Xy52YWx1ZSAmJiB0aGlzLmlucHV0Xy52YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElSVFkpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RJUlRZKTtcbiAgfVxufTtcbk1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZVsnY2hlY2tEaXJ0eSddID1cbiAgICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUuY2hlY2tEaXJ0eTtcblxuLyoqXG4gKiBEaXNhYmxlIHRleHQgZmllbGQuXG4gKlxuICogQHB1YmxpY1xuICovXG5NYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmlucHV0Xy5kaXNhYmxlZCA9IHRydWU7XG4gIHRoaXMudXBkYXRlQ2xhc3Nlc18oKTtcbn07XG5NYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGVbJ2Rpc2FibGUnXSA9IE1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5kaXNhYmxlO1xuXG4vKipcbiAqIEVuYWJsZSB0ZXh0IGZpZWxkLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmlucHV0Xy5kaXNhYmxlZCA9IGZhbHNlO1xuICB0aGlzLnVwZGF0ZUNsYXNzZXNfKCk7XG59O1xuTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlWydlbmFibGUnXSA9IE1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5lbmFibGU7XG5cbi8qKlxuICogVXBkYXRlIHRleHQgZmllbGQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0byBzZXQgdGhlIGNvbnRyb2wgKG9wdGlvbmFsKS5cbiAqIEBwdWJsaWNcbiAqL1xuTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlLmNoYW5nZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cbiAgaWYgKHZhbHVlKSB7XG4gICAgdGhpcy5pbnB1dF8udmFsdWUgPSB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmlucHV0Xy52YWx1ZSA9ICcnO1xuICB9XG4gIHRoaXMudXBkYXRlQ2xhc3Nlc18oKTtcbn07XG5NYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGVbJ2NoYW5nZSddID0gTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlLmNoYW5nZTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGVsZW1lbnQuXG4gKi9cbk1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuZWxlbWVudF8pIHtcbiAgICB0aGlzLmxhYmVsXyA9IHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLkNzc0NsYXNzZXNfLkxBQkVMKTtcbiAgICB0aGlzLmlucHV0XyA9IHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLkNzc0NsYXNzZXNfLklOUFVUKTtcblxuICAgIGlmICh0aGlzLmlucHV0Xykge1xuICAgICAgaWYgKHRoaXMuaW5wdXRfLmhhc0F0dHJpYnV0ZShcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodGhpcy5Db25zdGFudF8uTUFYX1JPV1NfQVRUUklCVVRFKSkpIHtcbiAgICAgICAgdGhpcy5tYXhSb3dzID0gcGFyc2VJbnQodGhpcy5pbnB1dF8uZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovICh0aGlzLkNvbnN0YW50Xy5NQVhfUk9XU19BVFRSSUJVVEUpKSwgMTApO1xuICAgICAgICBpZiAoaXNOYU4odGhpcy5tYXhSb3dzKSkge1xuICAgICAgICAgIHRoaXMubWF4Um93cyA9IHRoaXMuQ29uc3RhbnRfLk5PX01BWF9ST1dTO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYm91bmRVcGRhdGVDbGFzc2VzSGFuZGxlciA9IHRoaXMudXBkYXRlQ2xhc3Nlc18uYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuYm91bmRGb2N1c0hhbmRsZXIgPSB0aGlzLm9uRm9jdXNfLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmJvdW5kQmx1ckhhbmRsZXIgPSB0aGlzLm9uQmx1cl8uYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuYm91bmRSZXNldEhhbmRsZXIgPSB0aGlzLm9uUmVzZXRfLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLmlucHV0Xy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuYm91bmRVcGRhdGVDbGFzc2VzSGFuZGxlcik7XG4gICAgICB0aGlzLmlucHV0Xy5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuYm91bmRGb2N1c0hhbmRsZXIpO1xuICAgICAgdGhpcy5pbnB1dF8uYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuYm91bmRCbHVySGFuZGxlcik7XG4gICAgICB0aGlzLmlucHV0Xy5hZGRFdmVudExpc3RlbmVyKCdyZXNldCcsIHRoaXMuYm91bmRSZXNldEhhbmRsZXIpO1xuXG4gICAgICBpZiAodGhpcy5tYXhSb3dzICE9PSB0aGlzLkNvbnN0YW50Xy5OT19NQVhfUk9XUykge1xuICAgICAgICAvLyBUT0RPOiBUaGlzIHNob3VsZCBoYW5kbGUgcGFzdGluZyBtdWx0aSBsaW5lIHRleHQuXG4gICAgICAgIC8vIEN1cnJlbnRseSBkb2Vzbid0LlxuICAgICAgICB0aGlzLmJvdW5kS2V5RG93bkhhbmRsZXIgPSB0aGlzLm9uS2V5RG93bl8uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pbnB1dF8uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuYm91bmRLZXlEb3duSGFuZGxlcik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXBkYXRlQ2xhc3Nlc18oKTtcbiAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1VQR1JBREVEKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogRG93bmdyYWRlIHRoZSBjb21wb25lbnRcbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5NYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUubWRsRG93bmdyYWRlXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmlucHV0Xy5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuYm91bmRVcGRhdGVDbGFzc2VzSGFuZGxlcik7XG4gIHRoaXMuaW5wdXRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5ib3VuZEZvY3VzSGFuZGxlcik7XG4gIHRoaXMuaW5wdXRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLmJvdW5kQmx1ckhhbmRsZXIpO1xuICB0aGlzLmlucHV0Xy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNldCcsIHRoaXMuYm91bmRSZXNldEhhbmRsZXIpO1xuICBpZiAodGhpcy5ib3VuZEtleURvd25IYW5kbGVyKSB7XG4gICAgdGhpcy5pbnB1dF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuYm91bmRLZXlEb3duSGFuZGxlcik7XG4gIH1cbn07IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2luZG93TWVzc2VuZ2VyIHtcbiAgY29uc3RydWN0b3IodXJsKSB7XG4gICAgdGhpcy5fcmVxdWVzdElkID0gMDtcbiAgICBcbiAgICB0aGlzLl9pZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICB0aGlzLl9pZnJhbWUuY2xhc3NOYW1lID0gJ2hpZGRlbi10ZXN0ZXInO1xuICAgIHRoaXMuX3JlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgbGlzdGVuZXIgPSBlID0+IHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB0aGlzLl9pZnJhbWUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5faWZyYW1lLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JMaXN0ZW5lcik7XG4gICAgICB9O1xuICAgICAgY29uc3QgZXJyb3JMaXN0ZW5lciA9IGUgPT4ge1xuICAgICAgICByZWplY3QoRXJyb3IoXCJJZnJhbWUgbG9hZCBmYWlsZWRcIikpO1xuICAgICAgICB0aGlzLl9pZnJhbWUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIGxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5faWZyYW1lLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JMaXN0ZW5lcik7XG4gICAgICB9O1xuICAgICAgdGhpcy5faWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBsaXN0ZW5lcik7XG4gICAgICB0aGlzLl9pZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIHRoaXMuX2lmcmFtZS5zcmMgPSB1cmw7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9pZnJhbWUpO1xuXG4gICAgdGhpcy5fdGFyZ2V0T3JpZ2luID0gbmV3IFVSTCh1cmwpLm9yaWdpbjtcblxuICAgIHRoaXMuX3dpbmRvd0xpc3RlbmVyID0gZXZlbnQgPT4gdGhpcy5fb25NZXNzYWdlKGV2ZW50KTtcbiAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLl93aW5kb3dMaXN0ZW5lcik7XG5cbiAgICAvLyBtZXNzYWdlIGpvYnMgYXdhaXRpbmcgcmVzcG9uc2Uge2NhbGxJZDogW3Jlc29sdmUsIHJlamVjdF19XG4gICAgdGhpcy5fcGVuZGluZyA9IHt9O1xuICB9XG5cbiAgZGVzdHJ1Y3QoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLl9pZnJhbWUpO1xuICAgIHNlbGYucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMuX3dpbmRvd0xpc3RlbmVyKTtcbiAgfVxuXG4gIF9vbk1lc3NhZ2UoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQub3JpZ2luICE9IHRoaXMuX3RhcmdldE9yaWdpbikgcmV0dXJuO1xuXG4gICAgaWYgKCFldmVudC5kYXRhLmlkKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIlVuZXhwZWN0ZWQgbWVzc2FnZVwiLCBldmVudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHJlc29sdmVyID0gdGhpcy5fcGVuZGluZ1tldmVudC5kYXRhLmlkXTtcblxuICAgIGlmICghcmVzb2x2ZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiTm8gcmVzb2x2ZXIgZm9yXCIsIGV2ZW50KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkZWxldGUgdGhpcy5fcGVuZGluZ1tldmVudC5kYXRhLmlkXTtcblxuICAgIGlmIChldmVudC5kYXRhLmVycm9yKSB7XG4gICAgICByZXNvbHZlclsxXShuZXcgRXJyb3IoZXZlbnQuZGF0YS5lcnJvcikpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJlc29sdmVyWzBdKGV2ZW50LmRhdGEucmVzdWx0KTtcbiAgfVxuXG4gIG1lc3NhZ2UobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkeS50aGVuKF8gPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdElkID0gKyt0aGlzLl9yZXF1ZXN0SWQ7XG4gICAgICBtZXNzYWdlLmlkID0gcmVxdWVzdElkO1xuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0aGlzLl9wZW5kaW5nW3JlcXVlc3RJZF0gPSBbcmVzb2x2ZSwgcmVqZWN0XTtcbiAgICAgICAgdGhpcy5faWZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UobWVzc2FnZSwgdGhpcy5fdGFyZ2V0T3JpZ2luKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgV2luZG93TWVzc2VuZ2VyIGZyb20gJy4vV2luZG93TWVzc2VuZ2VyJztcblxuY29uc3QgYXBwT3JpZ2luID0gbmV3IFVSTChsb2NhdGlvbi5ocmVmKTtcbmFwcE9yaWdpbi5wb3J0ID0gc2VsZi5jb25maWcuYXBwUG9ydDtcbmNvbnN0IGV4ZWN1dG9yVXJsID0gbmV3IFVSTCgnL3JlbW90ZT9ieXBhc3Mtc3cnLCBhcHBPcmlnaW4pO1xuXG5mdW5jdGlvbiByZW1vdGVFdmFsKGpzKSB7XG4gIGNvbnN0IG1lc3NlbmdlciA9IG5ldyBXaW5kb3dNZXNzZW5nZXIoZXhlY3V0b3JVcmwpO1xuICBsZXQgZXJyb3I7XG5cbiAgaWYgKHR5cGVvZiBqcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGpzID0gJygnICsganMudG9TdHJpbmcoKSArICcpKCknO1xuICB9XG5cbiAgcmV0dXJuIGZpZ3VyZU91dENvbm5lY3Rpb25UeXBlKCkudGhlbih0eXBlID0+IHtcbiAgICBpZiAodHlwZSA9PT0gJ29mZmxpbmUnKSByZXR1cm4gW1wiTG9va3MgbGlrZSB0aGUgc2VydmVyIGlzIG9mZmxpbmVcIiwgJ3NhZC5naWYnLCBmYWxzZV07XG5cbiAgICByZXR1cm4gbWVzc2VuZ2VyLm1lc3NhZ2Uoe1xuICAgICAgZXZhbDoganNcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgZXJyb3IgPSBlcnI7XG4gICAgfSkudGhlbih2YWwgPT4ge1xuICAgICAgbWVzc2VuZ2VyLmRlc3RydWN0KCk7XG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9KTtcbiAgfSk7XG5cbn1cblxuZnVuY3Rpb24gZmlndXJlT3V0Q29ubmVjdGlvblR5cGUoKSB7XG4gIGNvbnN0IHN0YXJ0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgcmV0dXJuIFByb21pc2UucmFjZShbXG4gICAgZmV0Y2gobmV3IFVSTCgnL3BpbmcnLCBhcHBPcmlnaW4pKSxcbiAgICBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgNDAwMCkpXG4gIF0pLnRoZW4oXyA9PiB7XG4gICAgY29uc3QgZHVyYXRpb24gPSBwZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0O1xuXG4gICAgaWYgKGR1cmF0aW9uIDwgMzAwMCkge1xuICAgICAgcmV0dXJuICdwZXJmZWN0JztcbiAgICB9XG4gICAgaWYgKGR1cmF0aW9uIDwgMzUwMCkge1xuICAgICAgcmV0dXJuICdzbG93JztcbiAgICB9XG4gICAgcmV0dXJuICdsaWUtZmknO1xuICB9LCBfID0+IHtcbiAgICByZXR1cm4gJ29mZmxpbmUnO1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBkZW1vKCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW1wiWWVwLCB0aGUgZGVtbydzIHdvcmtpbmchXCIsICdkZW1vLmdpZicsIHRydWVdKTtcbiAgfSxcbiAgb2ZmbGluZSgpIHtcbiAgICByZXR1cm4gZmlndXJlT3V0Q29ubmVjdGlvblR5cGUoKS50aGVuKHR5cGUgPT4ge1xuICAgICAgaWYgKHR5cGUgPT0gJ29mZmxpbmUnKSB7XG4gICAgICAgIHJldHVybiBbXCJZZXAhIFRoZSBzZXJ2ZXIgaXMgdG90YWxseSBkZWFkIVwiLCAnMS5naWYnLCB0cnVlXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXCJIbW0sIG5vLCBsb29rcyBsaWtlIHRoZSBzZXJ2ZXIgaXMgc3RpbGwgdXBcIiwgJ25vcGUuZ2lmJywgZmFsc2VdO1xuICAgIH0pO1xuICB9LFxuICBbJ2xpZS1maSddKCkge1xuICAgIHJldHVybiBmaWd1cmVPdXRDb25uZWN0aW9uVHlwZSgpLnRoZW4odHlwZSA9PiB7XG4gICAgICBzd2l0Y2godHlwZSkge1xuICAgICAgICBjYXNlIFwibGllLWZpXCI6XG4gICAgICAgICAgcmV0dXJuIFtcIlllZWVlcCwgdGhhdCdzIGxpZS1maSBhbHJpZ2h0LlwiLCAnMi5naWYnLCB0cnVlXTtcbiAgICAgICAgY2FzZSBcIm9mZmxpbmVcIjpcbiAgICAgICAgICByZXR1cm4gW1wiSG1tLCBubywgbG9va3MgbGlrZSB0aGUgc2VydmVyIGlzIGRvd24uXCIsICdub3BlLmdpZicsIGZhbHNlXTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gW1wiVGhlIHNlcnZlciByZXNwb25kZWQgd2F5IHRvbyBmYXN0IGZvciBsaWUtZmkuXCIsICdub3QtcXVpdGUuZ2lmJywgZmFsc2VdO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICByZWdpc3RlcmVkKCkge1xuICAgIHJldHVybiByZW1vdGVFdmFsKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIpIHJldHVybiBbXCJTZXJ2aWNlIHdvcmtlciBzdWNjZXNzZnVsbHkgcmVnaXN0ZXJlZCFcIiwgJzMuZ2lmJywgdHJ1ZV07XG4gICAgICByZXR1cm4gW1wiRG9lc24ndCBsb29rIGxpa2UgdGhlcmUncyBhIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdGVyZWQgOihcIiwgJ25vcGUuZ2lmJywgZmFsc2VdO1xuICAgIH0pO1xuICB9LFxuICBbJ3N3LXdhaXRpbmcnXSgpIHtcbiAgICByZXR1cm4gcmVtb3RlRXZhbChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5nZXRSZWdpc3RyYXRpb24oJy8nKS50aGVuKHJlZyA9PiB7XG4gICAgICAgIGlmICghcmVnKSByZXR1cm4gW1wiRG9lc24ndCBsb29rIGxpa2UgdGhlcmUncyBhIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdGVyZWQgYXQgYWxsIVwiLCAnc2FkLmdpZicsIGZhbHNlXTtcbiAgICAgICAgaWYgKCFyZWcud2FpdGluZykgcmV0dXJuIFtcIlRoZXJlJ3Mgbm8gc2VydmljZSB3b3JrZXIgd2FpdGluZ1wiLCAnbm9wZS5naWYnLCBmYWxzZV07XG4gICAgICAgIHJldHVybiBbXCJZZXkhIFRoZXJlJ3MgYSBzZXJ2aWNlIHdvcmtlciB3YWl0aW5nIVwiLCBcIjQuZ2lmXCIsIHRydWVdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG4gIFsnc3ctYWN0aXZlJ10oKSB7XG4gICAgcmV0dXJuIHJlbW90ZUV2YWwoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9uKCcvJykudGhlbihyZWcgPT4ge1xuICAgICAgICBpZiAoIXJlZykgcmV0dXJuIFtcIkRvZXNuJ3QgbG9vayBsaWtlIHRoZXJlJ3MgYSBzZXJ2aWNlIHdvcmtlciByZWdpc3RlcmVkIGF0IGFsbCFcIiwgJ3NhZC5naWYnLCBmYWxzZV07XG4gICAgICAgIGlmIChyZWcud2FpdGluZykgcmV0dXJuIFtcIlRoZXJlJ3Mgc3RpbGwgYSBzZXJ2aWNlIHdvcmtlciB3YWl0aW5nXCIsICdub3BlLmdpZicsIGZhbHNlXTtcbiAgICAgICAgcmV0dXJuIFtcIk5vIHNlcnZpY2Ugd29ya2VyIHdhaXRpbmchIFlheSFcIiwgXCI1LmdpZlwiLCB0cnVlXTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuICBbJ2h0bWwtcmVzcG9uc2UnXSgpIHtcbiAgICByZXR1cm4gcmVtb3RlRXZhbChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmZXRjaCgnLycpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICBjb25zdCB0eXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuXG4gICAgICAgIGlmICghdHlwZSB8fCAodHlwZS50b0xvd2VyQ2FzZSgpICE9ICd0ZXh0L2h0bWwnICYmICF0eXBlLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgndGV4dC9odG1sJykpKSB7XG4gICAgICAgICAgcmV0dXJuIFtcIlRoZSByZXNwb25zZSBkb2Vzbid0IGhhdmUgdGhlICdDb250ZW50LVR5cGU6IHRleHQvaHRtbCcgaGVhZGVyXCIsICdub3BlLmdpZicsIGZhbHNlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCkudGhlbih0ZXh0ID0+IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcodGV4dCwgJ3RleHQvaHRtbCcpKS50aGVuKGRvYyA9PiB7XG4gICAgICAgICAgaWYgKGRvYy5ib2R5LnF1ZXJ5U2VsZWN0b3IoJy5hLXdpbm5lci1pcy1tZScpKSB7XG4gICAgICAgICAgICByZXR1cm4gW1wiQ3VzdG9tIEhUTUwgcmVzcG9uc2UgZm91bmQhIFlheSFcIiwgXCI2LmdpZlwiLCB0cnVlXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFtcIkNhbid0IGZpbmQgYW4gZWxlbWVudCB3aXRoIGNsYXNzICdhLXdpbm5lci1pcy1tZSdcIiwgJ25vcGUuZ2lmJywgZmFsc2VdO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuICBbJ2dpZi1yZXNwb25zZSddKCkge1xuICAgIHJldHVybiByZW1vdGVFdmFsKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZldGNoKCcvJykudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG5cbiAgICAgICAgaWYgKCF0eXBlIHx8ICF0eXBlLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCgndGV4dC9odG1sJykpIHtcbiAgICAgICAgICByZXR1cm4gW1wiTG9va3MgbGlrZSBpdCBpc24ndCBqdXN0IFVSTHMgZW5kaW5nIHdpdGggLmpwZyB0aGF0IGFyZSBiZWluZyBpbnRlcmNlcHRlZFwiLCAnbm90LXF1aXRlLmdpZicsIGZhbHNlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmZXRjaCgnL2JsYWguanBnJykudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgY29uc3QgdHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcblxuICAgICAgICAgIGlmICghdHlwZSB8fCAhdHlwZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ2ltYWdlL2dpZicpKSB7XG4gICAgICAgICAgICByZXR1cm4gW1wiRG9lc24ndCBsb29rIGxpa2UgdXJscyBlbmRpbmcgLmpwZyBhcmUgZ2V0dGluZyBhIGdpZiBpbiByZXNwb25zZVwiLCAnbm8tY3J5LmdpZicsIGZhbHNlXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gW1wiSW1hZ2VzIGFyZSBiZWluZyBpbnRlcmNlcHRlZCFcIiwgXCI3LmdpZlwiLCB0cnVlXTtcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH0pXG4gIH0sXG4gIFsnZ2lmLTQwNCddKCkge1xuICAgIHJldHVybiByZW1vdGVFdmFsKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgZmV0Y2goJy8nKSxcbiAgICAgICAgZmV0Y2goJy9pbWdzL2RyLWV2aWwuZ2lmP2J5cGFzcy1zdycpLFxuICAgICAgICBmZXRjaCgnLycgKyBNYXRoLnJhbmRvbSgpKVxuICAgICAgXSkudGhlbihyZXNwb25zZXMgPT4ge1xuICAgICAgICBjb25zdCBwYWdlVHlwZSA9IHJlc3BvbnNlc1swXS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG5cbiAgICAgICAgaWYgKCFwYWdlVHlwZSB8fCAhcGFnZVR5cGUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCd0ZXh0L2h0bWwnKSkge1xuICAgICAgICAgIHJldHVybiBbXCJMb29rcyBsaWtlIG5vbi00MDQgcGFnZXMgYXJlIGdldHRpbmcgdGhlIGdpZiB0b29cIiwgJ25vdC1xdWl0ZS5naWYnLCBmYWxzZV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0eXBlID0gcmVzcG9uc2VzWzJdLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcblxuICAgICAgICBpZiAoIXR5cGUgfHwgIXR5cGUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCdpbWFnZS9naWYnKSkge1xuICAgICAgICAgIHJldHVybiBbXCJEb2Vzbid0IGxvb2sgbGlrZSA0MDQgcmVzcG9uc2VzIGFyZSBnZXR0aW5nIGEgZ2lmIGluIHJldHVyblwiLCAnbm9wZS5naWYnLCBmYWxzZV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgICAgcmVzcG9uc2VzLnNsaWNlKDEpLm1hcChyID0+IHIuYXJyYXlCdWZmZXIoKS50aGVuKGIgPT4gbmV3IFVpbnQ4QXJyYXkoYikpKVxuICAgICAgICApLnRoZW4oYXJyYXlzID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtc1RvQ2hlY2sgPSAyMDAwO1xuICAgICAgICAgIGNvbnN0IGExID0gYXJyYXlzWzBdO1xuICAgICAgICAgIGNvbnN0IGEyID0gYXJyYXlzWzFdO1xuXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtc1RvQ2hlY2s7IGkrKykge1xuICAgICAgICAgICAgaWYgKGExW2ldICE9PSBhMltpXSkge1xuICAgICAgICAgICAgICByZXR1cm4gW1wiRG9lc24ndCBsb29rIGxpa2UgNDA0IHJlc3BvbnNlcyBhcmUgZ2V0dGluZyB0aGUgZHItZXZpbCBnaWYgaW4gcmV0dXJuXCIsICdub3QtcXVpdGUuZ2lmJywgZmFsc2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gW1wiWWF5ISA0MDQgcGFnZXMgZ2V0IGdpZnMhXCIsIFwiOC5naWZcIiwgdHJ1ZV07XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pO1xuICB9LFxuICBbJ2luc3RhbGwtY2FjaGVkJ10oKSB7XG4gICAgcmV0dXJuIHJlbW90ZUV2YWwoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBleHBlY3RlZFVybHMgPSBbXG4gICAgICAgICcvJyxcbiAgICAgICAgJy9qcy9tYWluLmpzJyxcbiAgICAgICAgJy9jc3MvbWFpbi5jc3MnLFxuICAgICAgICAnL2ltZ3MvaWNvbi5wbmcnLFxuICAgICAgICAnaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbS9zL3JvYm90by92MTUvMlVYN1dMVGZXM1c4VGNsVFV2bEZ5US53b2ZmJyxcbiAgICAgICAgJ2h0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20vcy9yb2JvdG8vdjE1L2QtNklZcGxPRm9jQ2FjS3p4d1hTT0Q4RTBpN0tabi1FUG55bzNIWnU3a3cud29mZidcbiAgICAgIF0ubWFwKHVybCA9PiBuZXcgVVJMKHVybCwgbG9jYXRpb24pLmhyZWYpO1xuXG4gICAgICByZXR1cm4gY2FjaGVzLmhhcygnd2l0dHItc3RhdGljLXYxJykudGhlbihoYXMgPT4ge1xuICAgICAgICBpZiAoIWhhcykgcmV0dXJuIFtcIkNhbid0IGZpbmQgYSBjYWNoZSBuYW1lZCB3aXR0ci1zdGF0aWMtdjFcIiwgJ25vcGUuZ2lmJywgZmFsc2VdO1xuXG4gICAgICAgIHJldHVybiBjYWNoZXMub3Blbignd2l0dHItc3RhdGljLXYxJykudGhlbihjID0+IGMua2V5cygpKS50aGVuKHJlcXMgPT4ge1xuICAgICAgICAgIGNvbnN0IHVybHMgPSByZXFzLm1hcChyID0+IHIudXJsKTtcbiAgICAgICAgICBjb25zdCBhbGxBY2NvdW50ZWRGb3IgPSBleHBlY3RlZFVybHMuZXZlcnkodXJsID0+IHVybHMuaW5jbHVkZXModXJsKSk7XG5cbiAgICAgICAgICBpZiAoYWxsQWNjb3VudGVkRm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gW1wiWWF5ISBUaGUgY2FjaGUgaXMgcmVhZHkgdG8gZ28hXCIsIFwiOS5naWZcIiwgdHJ1ZV07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBbXCJUaGUgY2FjaGUgaXMgdGhlcmUsIGJ1dCBpdCdzIG1pc3Npbmcgc29tZSB0aGluZ3NcIiwgJ25vdC1xdWl0ZS5naWYnLCBmYWxzZV07XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfSxcbiAgWydjYWNoZS1zZXJ2ZWQnXSgpIHtcbiAgICByZXR1cm4gcmVtb3RlRXZhbChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgIGZldGNoKCcvJyksXG4gICAgICAgIGZldGNoKCcvcGluZycpLnRoZW4ociA9PiByLmpzb24oKSkuY2F0Y2goZSA9PiAoe29rOiBmYWxzZX0pKVxuICAgICAgXSkudGhlbihyZXNwb25zZXMgPT4ge1xuICAgICAgICBjb25zdCBjYWNoZWRSZXNwb25zZSA9IHJlc3BvbnNlc1swXTtcbiAgICAgICAgY29uc3QganNvblJlc3BvbnNlID0gcmVzcG9uc2VzWzFdO1xuXG4gICAgICAgIGlmICghanNvblJlc3BvbnNlLm9rKSByZXR1cm4gW1wiRG9lc24ndCBsb29rIGxpa2Ugbm9uLWNhY2hlZCByZXF1ZXN0cyBhcmUgZ2V0dGluZyB0aHJvdWdoXCIsICdub3QtcXVpdGUuZ2lmJywgZmFsc2VdO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgMjAwMCkpLnRoZW4oXyA9PiBmZXRjaCgnLycpKS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICBpZiAoY2FjaGVkUmVzcG9uc2UuaGVhZGVycy5nZXQoJ0RhdGUnKSA9PT0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ0RhdGUnKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtcIllheSEgQ2FjaGVkIHJlc3BvbnNlcyBhcmUgYmVpbmcgcmV0dXJuZWQhXCIsIFwiMTAuZ2lmXCIsIHRydWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gW1wiRG9lc24ndCBsb29rIGxpa2UgcmVzcG9uc2VzIGFyZSByZXR1cm5lZCBmcm9tIHRoZSBjYWNoZVwiLCAnbm9wZS5naWYnLCBmYWxzZV07XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcbiAgWyduZXctY2FjaGUtcmVhZHknXSgpIHtcbiAgICByZXR1cm4gcmVtb3RlRXZhbChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgIGNhY2hlcy5oYXMoJ3dpdHRyLXN0YXRpYy12MScpLFxuICAgICAgICBjYWNoZXMuaGFzKCd3aXR0ci1zdGF0aWMtdjInKVxuICAgICAgXSkudGhlbihoYXNDYWNoZXMgPT4ge1xuICAgICAgICBpZiAoIWhhc0NhY2hlc1swXSkgcmV0dXJuIFtcIkxvb2tzIGxpa2UgdGhlIHYxIGNhY2hlIGhhcyBhbHJlYWR5IGdvbmVcIiwgJ3NhZC5naWYnLCBmYWxzZV07XG4gICAgICAgIGlmICghaGFzQ2FjaGVzWzFdKSByZXR1cm4gW1wiQ2FuJ3QgZmluZCB0aGUgd2l0dHItc3RhdGljLXYyIGNhY2hlXCIsICdzYWQuZ2lmJywgZmFsc2VdO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgICAgICBbJ3dpdHRyLXN0YXRpYy12MScsICd3aXR0ci1zdGF0aWMtdjInXS5tYXAobmFtZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVzLm9wZW4obmFtZSlcbiAgICAgICAgICAgICAgLnRoZW4oYyA9PiBjLm1hdGNoKCcvY3NzL21haW4uY3NzJykpXG4gICAgICAgICAgICAgIC50aGVuKHIgPT4gciAmJiByLnRleHQoKSlcbiAgICAgICAgICB9KVxuICAgICAgICApLnRoZW4oY3NzVGV4dHMgPT4ge1xuICAgICAgICAgIGlmICghY3NzVGV4dHNbMF0pIHJldHVybiBbXCJDYW4ndCBmaW5kIENTUyBpbiB0aGUgdjEgY2FjaGVcIiwgJ3NhZC5naWYnLCBmYWxzZV07XG4gICAgICAgICAgaWYgKCFjc3NUZXh0c1sxXSkgcmV0dXJuIFtcIkNhbid0IGZpbmQgQ1NTIGluIHRoZSB2MiBjYWNoZVwiLCAnc2FkLmdpZicsIGZhbHNlXTtcblxuICAgICAgICAgIGlmIChjc3NUZXh0c1swXSA9PT0gY3NzVGV4dHNbMV0pIHtcbiAgICAgICAgICAgIHJldHVybiBbXCJUaGVyZSdzIGEgbmV3IGNhY2hlLCBidXQgdGhlIENTUyBsb29rcyB0aGUgc2FtZVwiLCAnbm9wZS5naWYnLCBmYWxzZV07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBbXCJZYXkhIFRoZSBuZXcgY2FjaGUgaXMgcmVhZHksIGJ1dCBpc24ndCBkaXNydXB0aW5nIGN1cnJlbnQgcGFnZXNcIiwgXCIxMS5naWZcIiwgdHJ1ZV07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSlcbiAgfSxcbiAgWyduZXctY2FjaGUtdXNlZCddKCkge1xuICAgIHJldHVybiByZW1vdGVFdmFsKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgY2FjaGVzLmhhcygnd2l0dHItc3RhdGljLXYxJyksXG4gICAgICAgIGNhY2hlcy5oYXMoJ3dpdHRyLXN0YXRpYy12MicpXG4gICAgICBdKS50aGVuKGhhc0NhY2hlcyA9PiB7XG4gICAgICAgIGlmIChoYXNDYWNoZXNbMF0pIHJldHVybiBbXCJMb29rcyBsaWtlIHRoZSB2MSBjYWNoZSBpcyBzdGlsbCB0aGVyZVwiLCAnbm90LXF1aXRlLmdpZicsIGZhbHNlXTtcbiAgICAgICAgaWYgKCFoYXNDYWNoZXNbMV0pIHJldHVybiBbXCJDYW4ndCBmaW5kIHRoZSB3aXR0ci1zdGF0aWMtdjIgY2FjaGVcIiwgJ3NhZC5naWYnLCBmYWxzZV07XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICBmZXRjaCgnL2Nzcy9tYWluLmNzcycpLFxuICAgICAgICAgIG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCAyMDAwKSkudGhlbihfID0+IGZldGNoKCcvY3NzL21haW4uY3NzJykpXG4gICAgICAgIF0pLnRoZW4ocmVzcG9uc2VzID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2VzWzBdLmhlYWRlcnMuZ2V0KCdEYXRlJykgIT0gcmVzcG9uc2VzWzFdLmhlYWRlcnMuZ2V0KCdEYXRlJykpIHtcbiAgICAgICAgICAgIHJldHVybiBbXCJEb2Vzbid0IGxvb2sgbGlrZSB0aGUgQ1NTIGlzIGJlaW5nIHNlcnZlZCBmcm9tIHRoZSBjYWNoZVwiLCAnbWlzdGFrZS5naWYnLCBmYWxzZV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG9wZW5JZnJhbWUoJy8nKS50aGVuKGlmcmFtZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB3aW4gPSBpZnJhbWUuY29udGVudFdpbmRvdztcbiAgICAgICAgICAgIGNvbnN0IGRvYyA9IHdpbi5kb2N1bWVudDtcbiAgICAgICAgICAgIGNvbnN0IGJnID0gd2luLmdldENvbXB1dGVkU3R5bGUoZG9jLnF1ZXJ5U2VsZWN0b3IoJy50b29sYmFyJykpLmJhY2tncm91bmRDb2xvcjtcblxuICAgICAgICAgICAgaWYgKGJnID09ICdyZ2IoNjMsIDgxLCAxODEpJykge1xuICAgICAgICAgICAgICByZXR1cm4gW1wiRG9lc24ndCBsb29rIGxpa2UgdGhlIGhlYWRlciBjb2xvciBoYXMgY2hhbmdlZFwiLCAnbm8tY3J5LmdpZicsIGZhbHNlXTsgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW1wiWWF5ISBZb3Ugc2FmZWx5IHVwZGF0ZWQgdGhlIENTUyFcIiwgXCIxMi5naWZcIiwgdHJ1ZV07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pO1xuICB9LFxuICBbJ3VwZGF0ZS1ub3RpZnknXSgpIHtcbiAgICByZXR1cm4gcmVtb3RlRXZhbChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5nZXRSZWdpc3RyYXRpb24oKS50aGVuKHJlZyA9PiB7XG4gICAgICAgIGlmICghcmVnLndhaXRpbmcpIHJldHVybiBbXCJEb2Vzbid0IGxvb2sgbGlrZSB0aGVyZSdzIGEgd2FpdGluZyB3b3JrZXJcIiwgJ25vcGUuZ2lmJywgZmFsc2VdO1xuXG4gICAgICAgIHJldHVybiBvcGVuSWZyYW1lKCcvJykudGhlbihpZnJhbWUgPT4ge1xuICAgICAgICAgIGNvbnN0IHdpbiA9IGlmcmFtZS5jb250ZW50V2luZG93O1xuICAgICAgICAgIGNvbnN0IGRvYyA9IHdpbi5kb2N1bWVudDtcblxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgNTAwKSkudGhlbihfID0+IHtcbiAgICAgICAgICAgIGlmIChkb2MucXVlcnlTZWxlY3RvcignLnRvYXN0JykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFtcIllheSEgVGhlcmUgYXJlIG5vdGlmaWNhdGlvbnMhXCIsIFwiMTMuZ2lmXCIsIHRydWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtcIkRvZXNuJ3QgbG9vayBsaWtlIHRoZXJlJ3MgYSBub3RpZmljYXRpb24gYmVpbmcgdHJpZ2dlcmVkXCIsICdzYWQuZ2lmJywgZmFsc2VdO1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSlcbiAgfSxcbiAgWyd1cGRhdGUtcmVsb2FkJ10oKSB7XG4gICAgcmV0dXJuIHJlbW90ZUV2YWwoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9uKCkudGhlbihyZWcgPT4ge1xuICAgICAgICBpZiAoIXJlZy53YWl0aW5nKSByZXR1cm4gW1wiRG9lc24ndCBsb29rIGxpa2UgdGhlcmUncyBhIHdhaXRpbmcgd29ya2VyXCIsICdub3BlLmdpZicsIGZhbHNlXTtcblxuICAgICAgICByZXR1cm4gb3BlbklmcmFtZSgnLycpLnRoZW4oaWZyYW1lID0+IHtcbiAgICAgICAgICBjb25zdCB3aW4gPSBpZnJhbWUuY29udGVudFdpbmRvdztcbiAgICAgICAgICBjb25zdCBkb2MgPSB3aW4uZG9jdW1lbnQ7XG5cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KF8gPT4gcmVzb2x2ZShbXCJEaWRuJ3QgZGV0ZWN0IHRoZSBwYWdlIGJlaW5nIHJlbG9hZGVkIDooXCIsICdzYWQuZ2lmJywgZmFsc2VdKSwgODAwMCk7XG4gICAgICAgICAgICBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIF8gPT4ge1xuICAgICAgICAgICAgICByZXNvbHZlKFtcIllheSEgVGhlIHBhZ2UgcmVsb2FkZWQhXCIsIFwiMTQuZ2lmXCIsIHRydWVdKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSlcbiAgfSxcbiAgWydzZXJ2ZS1za2VsZXRvbiddKCkge1xuICAgIHJldHVybiByZW1vdGVFdmFsKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZldGNoKCcvJykudGhlbihyID0+IHIudGV4dCgpKS50aGVuKHRleHQgPT4ge1xuICAgICAgICBpZiAodGV4dC5pbmNsdWRlcygncG9zdC1jb250ZW50JykpIHtcbiAgICAgICAgICByZXR1cm4gW1wiRG9lc24ndCBsb29rIGxpa2UgdGhlIHBhZ2Ugc2tlbGV0b24gaXMgYmVpbmcgc2VydmVkXCIsICdub3BlLmdpZicsIGZhbHNlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmZXRjaCgnaHR0cHM6Ly9nb29nbGUuY29tLycpLnRoZW4ociA9PiByLnRleHQoKSkuY2F0Y2goZSA9PiAnJykudGhlbihnVGV4dCA9PiB7XG4gICAgICAgICAgaWYgKGdUZXh0ID09IHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBbXCJMb29rcyBsaWtlIHlvdSdyZSBzZXJ2aW5nIHRoZSBza2VsZXRvbiBmb3IgaHR0cHM6Ly9nb29nbGUuY29tLyB0b28hXCIsICdub3QtcXVpdGUuZ2lmJywgZmFsc2VdO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gW1wiWWF5ISBUaGUgcGFnZSBza2VsZXRvbiBpcyBiZWluZyBzZXJ2ZWQhXCIsIFwiMTUuZ2lmXCIsIHRydWVdO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuICBbJ2lkYi1hbmltYWwnXSgpIHtcbiAgICByZXR1cm4gcmVtb3RlRXZhbChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBvcGVuRGIoJ3Rlc3QtZGInKS50aGVuKGRiID0+IHtcbiAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbigna2V5dmFsJyk7XG4gICAgICAgIHJldHVybiB0eC5vYmplY3RTdG9yZSgna2V5dmFsJykuZ2V0KCdmYXZvcml0ZUFuaW1hbCcpLnRoZW4oYW5pbWFsID0+IHtcbiAgICAgICAgICBpZiAoIWFuaW1hbCkgcmV0dXJuIFtcIkNhbid0IGZpbmQgZmF2b3JpdGVBbmltYWwgaW4ga2V5dmFsXCIsICdub3BlLmdpZicsIGZhbHNlXTtcbiAgICAgICAgICByZXR1cm4gW1wiWWF5ISBZb3VyIGZhdm9yaXRlIGFuaW1hbCBpcyBcXFwiXCIgKyBhbmltYWwgKyBcIlxcXCJcIiwgXCIxNi5naWZcIiwgdHJ1ZV07XG4gICAgICAgIH0pXG4gICAgICB9LCBlcnIgPT4ge1xuICAgICAgICByZXR1cm4gW1wiQ291bGRuJ3Qgb3BlbiB0aGUgdGVzdC1kYiBkYXRhYmFzZSBhdCBhbGwgOihcIiwgJ3NhZC5naWYnLCBmYWxzZV07XG4gICAgICB9KVxuICAgIH0pO1xuICB9LFxuICBbJ2lkYi1hZ2UnXSgpIHtcbiAgICByZXR1cm4gcmVtb3RlRXZhbChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBvcGVuRGIoJ3Rlc3QtZGInKS50aGVuKGRiID0+IHtcbiAgICAgICAgaWYgKCFBcnJheS5mcm9tKGRiLm9iamVjdFN0b3JlTmFtZXMpLmluY2x1ZGVzKCdwZW9wbGUnKSkge1xuICAgICAgICAgIHJldHVybiBbXCJDYW4ndCBmaW5kIHRoZSAncGVvcGxlJyBvYmplY3RTdG9yZVwiLCAnbWlzdGFrZS5naWYnLCBmYWxzZV07IFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbigncGVvcGxlJyk7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHgub2JqZWN0U3RvcmUoJ3Blb3BsZScpO1xuXG4gICAgICAgIGlmICghQXJyYXkuZnJvbShzdG9yZS5pbmRleE5hbWVzKS5pbmNsdWRlcygnYWdlJykpIHtcbiAgICAgICAgICByZXR1cm4gW1wiQ2FuJ3QgZmluZCB0aGUgJ2FnZScgaW5kZXggaW4gdGhlICdwZW9wbGUnIG9iamVjdFN0b3JlXCIsICdzYWQuZ2lmJywgZmFsc2VdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSBzdG9yZS5pbmRleCgnYWdlJyk7XG5cbiAgICAgICAgaWYgKGluZGV4LmtleVBhdGggPT0gJ2FnZScpIHtcbiAgICAgICAgICByZXR1cm4gW1wiWWF5ISBUaGUgYWdlIGluZGV4IGlzIHdvcmtpbmdcIiwgXCIxNy5naWZcIiwgdHJ1ZV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW1wiVGhlIGFnZSBpbmRleCBpc24ndCBpbmRleGVkIGJ5IGFnZVwiLCAnbm9wZS5naWYnLCBmYWxzZV07XG4gICAgICB9LCBlcnIgPT4ge1xuICAgICAgICByZXR1cm4gW1wiQ291bGRuJ3Qgb3BlbiB0aGUgdGVzdC1kYiBkYXRhYmFzZSBhdCBhbGwgOihcIiwgJ3NhZC5naWYnLCBmYWxzZV07XG4gICAgICB9KVxuICAgIH0pO1xuICB9LFxuICBbJ2lkYi1zdG9yZSddKCkge1xuICAgIHJldHVybiByZW1vdGVFdmFsKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG9wZW5EYignd2l0dHInKS50aGVuKGRiID0+IHtcbiAgICAgICAgaWYgKCFBcnJheS5mcm9tKGRiLm9iamVjdFN0b3JlTmFtZXMpLmluY2x1ZGVzKCd3aXR0cnMnKSkge1xuICAgICAgICAgIHJldHVybiBbXCJUaGVyZSBpc24ndCBhICd3aXR0cnMnIG9iamVjdFN0b3JlXCIsICdzYWQuZ2lmJywgZmFsc2VdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbignd2l0dHJzJyk7XG4gICAgICAgIGNvbnN0IHN0b3JlID0gdHgub2JqZWN0U3RvcmUoJ3dpdHRycycpO1xuXG4gICAgICAgIGlmIChzdG9yZS5rZXlQYXRoICE9ICdpZCcpIHtcbiAgICAgICAgICByZXR1cm4gW1wiJ3dpdHRycycgb2JqZWN0U3RvcmUgZG9lc24ndCB1c2UgJ2lkJyBhcyBpdHMgcHJpbWFyeSBrZXlcIiwgJ25vcGUuZ2lmJywgZmFsc2VdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFBcnJheS5mcm9tKHN0b3JlLmluZGV4TmFtZXMpLmluY2x1ZGVzKCdieS1kYXRlJykpIHtcbiAgICAgICAgICByZXR1cm4gW1wiVGhlcmUgaXNuJ3QgYSAnYnktZGF0ZScgaW5kZXggb24gdGhlICd3aXR0cnMnIG9iamVjdFN0b3JlXCIsICdub3BlLmdpZicsIGZhbHNlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gc3RvcmUuaW5kZXgoJ2J5LWRhdGUnKTtcblxuICAgICAgICBpZiAoaW5kZXgua2V5UGF0aCAhPSAndGltZScpIHtcbiAgICAgICAgICByZXR1cm4gW1wiVGhlICdieS1kYXRlJyBpbmRleCBpc24ndCB1c2luZyAndGltZScgYXMgaXRzIGtleVwiLCAnbm9wZS5naWYnLCBmYWxzZV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RvcmUuZ2V0QWxsKCkudGhlbihtZXNzYWdlcyA9PiB7XG4gICAgICAgICAgaWYgKCFtZXNzYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBbXCJUaGUgb2JqZWN0U3RvcmUgaXMgdGhlcmUsIGJ1dCBpdCdzIGVtcHR5XCIsICdzYWQuZ2lmJywgZmFsc2VdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGxvb2tzTWVzc2FnZXkgPSBtZXNzYWdlcy5ldmVyeShtZXNzYWdlID0+IHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmlkICYmIG1lc3NhZ2UuYXZhdGFyICYmIG1lc3NhZ2UubmFtZSAmJiBtZXNzYWdlLnRpbWUgJiYgbWVzc2FnZS5ib2R5O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGxvb2tzTWVzc2FnZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBbXCJUaGUgZGF0YWJhc2UgaXMgc2V0IHVwIGFuZCBwb3B1bGF0ZWQhXCIsIFwiMTguZ2lmXCIsIHRydWVdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBbXCJMb29rcyBsaWtlIHNvbWUgaW5jb3JyZWN0IGRhdGEgaXMgaW4gdGhlIGRhdGFiYXNlXCIsICdub3QtcXVpdGUuZ2lmJywgZmFsc2VdO1xuICAgICAgICB9KTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgcmV0dXJuIFtcIkNvdWxkbid0IG9wZW4gdGhlICd3aXR0cicgZGF0YWJhc2UgYXQgYWxsIDooXCIsICdzYWQuZ2lmJywgZmFsc2VdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG4gIFsnaWRiLXNob3cnXSgpIHtcbiAgICByZXR1cm4gcmVtb3RlRXZhbChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBvcGVuRGIoJ3dpdHRyJykudGhlbihkYiA9PiB7XG4gICAgICAgIHJldHVybiBvcGVuSWZyYW1lKCcvP25vLXNvY2tldCcpLnRoZW4oaWZyYW1lID0+IHtcbiAgICAgICAgICBjb25zdCB3aW4gPSBpZnJhbWUuY29udGVudFdpbmRvdztcbiAgICAgICAgICBjb25zdCBkb2MgPSB3aW4uZG9jdW1lbnQ7XG5cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIDUwMCkpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZXMgPSBBcnJheS5mcm9tKGRvYy5xdWVyeVNlbGVjdG9yQWxsKCcucG9zdC1jb250ZW50IHRpbWUnKSk7XG4gICAgICAgICAgICBpZiAoIXRpbWVzLmxlbmd0aCkgcmV0dXJuIFtcIlBhZ2UgbG9va3MgZW1wdHkgd2l0aG91dCB0aGUgd2ViIHNvY2tldFwiLCAnbm9wZS5naWYnLCBmYWxzZV07XG5cbiAgICAgICAgICAgIGNvbnN0IGluT3JkZXIgPSB0aW1lcy5tYXAodCA9PiBuZXcgRGF0ZSh0LmdldEF0dHJpYnV0ZSgnZGF0ZXRpbWUnKSkpLmV2ZXJ5KCh0aW1lLCBpLCBhcnIpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgbmV4dFRpbWUgPSBhcnJbaSsxXTtcbiAgICAgICAgICAgICAgaWYgKCFuZXh0VGltZSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIHJldHVybiB0aW1lID49IG5leHRUaW1lO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICghaW5PcmRlcikgcmV0dXJuIFtcIlNvIGNsb3NlISBCdXQgdGhlIG5ld2VzdCBwb3N0IHNob3VsZCBhcHBlYXIgYXQgdGhlIHRvcFwiLCAnbm90LXF1aXRlLmdpZicsIGZhbHNlXTtcbiAgICAgICAgICAgIHJldHVybiBbXCJQYWdlIHBvcHVsYXRlZCBmcm9tIElEQiFcIiwgXCIxOS5naWZcIiwgdHJ1ZV07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gW1wiQ291bGRuJ3Qgb3BlbiB0aGUgJ3dpdHRyJyBkYXRhYmFzZSBhdCBhbGwgOihcIiwgJ3NhZC5naWYnLCBmYWxzZV07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcbiAgWydpZGItY2xlYW4nXSgpIHtcbiAgICByZXR1cm4gcmVtb3RlRXZhbChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBvcGVuRGIoJ3dpdHRyJykudGhlbihkYiA9PiB7XG4gICAgICAgIGNvbnN0IHR4ID0gZGIudHJhbnNhY3Rpb24oJ3dpdHRycycpO1xuICAgICAgICBjb25zdCBzdG9yZSA9IHR4Lm9iamVjdFN0b3JlKCd3aXR0cnMnKTtcblxuICAgICAgICByZXR1cm4gc3RvcmUuY291bnQoKS50aGVuKG51bSA9PiB7XG4gICAgICAgICAgaWYgKG51bSA+IDMwKSB7XG4gICAgICAgICAgICByZXR1cm4gW1wiVGhlcmUgYXJlIG1vcmUgdGhhbiAzMCBpdGVtcyBpbiB0aGUgc3RvcmVcIiwgJ25vcGUuZ2lmJywgZmFsc2VdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChudW0gPCAzMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtcIlRoZXJlIGFyZSBsZXNzIHRoYW4gMzAgaXRlbXMgaW4gdGhlIHN0b3JlLCBzbyBpdCBpc24ndCBjbGVhciBpZiB0aGlzIGlzIHdvcmtpbmdcIiwgJ25vdC1xdWl0ZS5naWYnLCBmYWxzZV07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIFtcIkxvb2tzIGxpa2UgdGhlIGRhdGFiYXNlIGlzIGJlaW5nIGNsZWFuZWQhXCIsIFwiMjAuZ2lmXCIsIHRydWVdO1xuICAgICAgICB9KTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgcmV0dXJuIFtcIkNvdWxkbid0IG9wZW4gdGhlICd3aXR0cicgZGF0YWJhc2UgYXQgYWxsIDooXCIsICdzYWQuZ2lmJywgZmFsc2VdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG4gIFsnY2FjaGUtcGhvdG9zJ10oKSB7XG4gICAgcmV0dXJuIHJlbW90ZUV2YWwoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gY2FjaGVzLmhhcygnd2l0dHItY29udGVudC1pbWdzJykudGhlbihoYXNDYWNoZSA9PiB7XG4gICAgICAgIGlmICghaGFzQ2FjaGUpIHJldHVybiBbXCJUaGVyZSBpc24ndCBhICd3aXR0ci1jb250ZW50LWltZ3MnIGNhY2hlXCIsICdzYWQuZ2lmJywgZmFsc2VdO1xuXG4gICAgICAgIC8vIGNsZWFyIGNhY2hlXG4gICAgICAgIHJldHVybiBjYWNoZXMuZGVsZXRlKCd3aXR0ci1jb250ZW50LWltZ3MnKS50aGVuKCgpID0+IHtcbiAgICAgICAgICBjb25zdCBpbWFnZVVybFNtYWxsID0gJy9waG90b3MvNC0zMDg3LTI5MTg5NDk3OTgtODY1ZjEzNGVmMy0zMjBweC5qcGcnO1xuICAgICAgICAgIGNvbnN0IGltYWdlVXJsTWVkaXVtID0gJy9waG90b3MvNC0zMDg3LTI5MTg5NDk3OTgtODY1ZjEzNGVmMy02NDBweC5qcGcnO1xuXG4gICAgICAgICAgcmV0dXJuIGZldGNoKGltYWdlVXJsTWVkaXVtKS50aGVuKG1lZFJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgMjAwMCkpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IGZldGNoKGltYWdlVXJsTWVkaXVtKSkudGhlbihhbm90aGVyTWVkUmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChtZWRSZXNwb25zZS5oZWFkZXJzLmdldCgnRGF0ZScpICE9IGFub3RoZXJNZWRSZXNwb25zZS5oZWFkZXJzLmdldCgnRGF0ZScpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gW1wiRG9lc24ndCBsb29rIGxpa2UgaW1hZ2VzIGFyZSBiZWluZyByZXR1cm5lZCBmcm9tIHRoZSBjYWNoZVwiLCAnbm9wZS5naWYnLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKGltYWdlVXJsU21hbGwpLnRoZW4oc21hbGxSZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3NtYWxsUmVzcG9uc2UuYmxvYigpLCBtZWRSZXNwb25zZS5ibG9iKCldKTtcbiAgICAgICAgICAgICAgICB9KS50aGVuKGJsb2JzID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChibG9ic1swXS5zaXplICE9IGJsb2JzWzFdLnNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcIlRoZSBvcmlnaW5hbGx5IGNhY2hlZCBpbWFnZSBpc24ndCBiZWluZyByZXR1cm5lZCBmb3IgZGlmZmVyZW50IHNpemVzXCIsICdub3BlLmdpZicsIGZhbHNlXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiBbXCJQaG90b3MgYXJlIGJlaW5nIGNhY2hlZCBhbmQgc2VydmVkIGNvcnJlY3RseSFcIiwgXCIyMS5naWZcIiwgdHJ1ZV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuICBbJ2NhY2hlLWNsZWFuJ10oKSB7XG4gICAgcmV0dXJuIHJlbW90ZUV2YWwoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gY2FjaGVzLm9wZW4oJ3dpdHRyLWNvbnRlbnQtaW1ncycpLnRoZW4oY2FjaGUgPT4ge1xuICAgICAgICBjb25zdCBpbWFnZVVybE1lZGl1bSA9ICcvcGhvdG9zLzQtMzA4Ny0yOTE4OTQ5Nzk4LTg2NWYxMzRlZjMtNjQwcHguanBnJztcblxuICAgICAgICByZXR1cm4gZmV0Y2goaW1hZ2VVcmxNZWRpdW0pLnRoZW4ociA9PiByLmJsb2IoKSkudGhlbigoKSA9PiBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgNTAwKSkpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBjYWNoZS5tYXRjaCgnL3Bob3Rvcy80LTMwODctMjkxODk0OTc5OC04NjVmMTM0ZWYzJykudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSByZXR1cm4gW1wiUGhvdG9zIGFyZW4ndCBhcHBlYXJpbmcgaW4gdGhlIGNhY2hlIHdoZXJlIHdlJ2QgZXhwZWN0XCIsICdub3QtcXVpdGUuZ2lmJywgZmFsc2VdO1xuXG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uIGNoZWNrQ2FjaGUoKSB7XG4gICAgICAgICAgICAgIGlmIChEYXRlLm5vdygpIC0gc3RhcnQgPiA4MDAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcIlRoZSBpbWFnZSBjYWNoZSBkb2Vzbid0IHNlZW0gdG8gYmUgZ2V0dGluZyBjbGVhbmVkXCIsICdub3BlLmdpZicsIGZhbHNlXTsgXG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gY2FjaGUubWF0Y2goJy9waG90b3MvNC0zMDg3LTI5MTg5NDk3OTgtODY1ZjEzNGVmMycpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBbXCJZYXkhIFRoZSBpbWFnZSBjYWNoZSBpcyBiZWluZyBjbGVhbmVkIVwiLCAnMjIuZ2lmJywgdHJ1ZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyID0+IHNldFRpbWVvdXQociwgMTAwKSkudGhlbihjaGVja0NhY2hlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSxcbiAgWydjYWNoZS1hdmF0YXJzJ10oKSB7XG4gICAgcmV0dXJuIHJlbW90ZUV2YWwoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gY2FjaGVzLmRlbGV0ZSgnd2l0dHItY29udGVudC1pbWdzJykudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGltYWdlVXJsU21hbGwgPSAnL2F2YXRhcnMvbWFyYy0xeC5qcGcnO1xuICAgICAgICBjb25zdCBpbWFnZVVybE1lZGl1bSA9ICcvYXZhdGFycy9tYXJjLTJ4LmpwZyc7XG5cbiAgICAgICAgcmV0dXJuIGZldGNoKGltYWdlVXJsU21hbGwpLnRoZW4oc21hbGxSZXNwb25zZSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCAyMDAwKSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IGZldGNoKGltYWdlVXJsTWVkaXVtKSkudGhlbihtZWRSZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgIGlmIChzbWFsbFJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdEYXRlJykgIT0gbWVkUmVzcG9uc2UuaGVhZGVycy5nZXQoJ0RhdGUnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXCJEb2Vzbid0IGxvb2sgbGlrZSBhdmF0YXJzIGFyZSBiZWluZyByZXR1cm5lZCBmcm9tIHRoZSBjYWNoZSwgZXZlbiBpZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBkaWZmZXJlbnQgc2l6ZVwiLCAnbm9wZS5naWYnLCBmYWxzZV07XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIDIwMDApKS50aGVuKCgpID0+IGZldGNoKGltYWdlVXJsTWVkaXVtKSkudGhlbihhbm90aGVyTWVkUmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChtZWRSZXNwb25zZS5oZWFkZXJzLmdldCgnRGF0ZScpID09IGFub3RoZXJNZWRSZXNwb25zZS5oZWFkZXJzLmdldCgnRGF0ZScpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gW1wiRG9lc24ndCBsb29rIGxpa2UgYXZhdGFycyBhcmUgYmVpbmcgdXBkYXRlZCBhZnRlciBiZWluZyByZXR1cm5lZCBmcm9tIHRoZSBjYWNoZVwiLCAnbm9wZS5naWYnLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBbXCJBdmF0YXJzIGFyZSBiZWluZyBjYWNoZWQsIHNlcnZlZCBhbmQgdXBkYXRlZCBjb3JyZWN0bHkhXCIsIFwiMjMuZ2lmXCIsIHRydWVdO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59OyIsImltcG9ydCBwYXJzZUhUTUwgZnJvbSAnLi4vLi4vdXRpbHMvcGFyc2VIVE1MJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3Bpbm5lciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29udGFpbmVyID0gcGFyc2VIVE1MKFxuICAgICAgJzxkaXYgY2xhc3M9XCJzcGlubmVyXCI+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwic3Bpbm5lci1jb250YWluZXJcIj4nICtcbiAgICAgICAgICAnPGRpdiBjbGFzcz1cInNwaW5uZXItbGF5ZXJcIj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY2lyY2xlLWNsaXBwZXIgbGVmdFwiPicgK1xuICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNpcmNsZVwiPjwvZGl2PicgK1xuICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJnYXAtcGF0Y2hcIj4nICtcbiAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjaXJjbGVcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY2lyY2xlLWNsaXBwZXIgcmlnaHRcIj4nICtcbiAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJjaXJjbGVcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICc8L2Rpdj4nICtcbiAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICc8L2Rpdj4nICtcbiAgICAgICc8L2Rpdj4nICtcbiAgICAnJykuZmlyc3RDaGlsZDtcblxuICAgIHRoaXMuX3Nob3dUaW1lb3V0ID0gbnVsbDtcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgdmFyIGFuaW1FbmRMaXN0ZW5lciA9IGV2ZW50ID0+IHtcbiAgICAgIGlmIChldmVudC50YXJnZXQgPT0gdGhpcy5jb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0QW5pbWF0aW9uRW5kJywgYW5pbUVuZExpc3RlbmVyKTtcbiAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBhbmltRW5kTGlzdGVuZXIpO1xuICB9XG5cbiAgc2hvdyhkZWxheSA9IDMwMCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9zaG93VGltZW91dCk7XG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdjb29sZG93bicpO1xuICAgIHRoaXMuX3Nob3dUaW1lb3V0ID0gc2V0VGltZW91dChfID0+IHtcbiAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9LCBkZWxheSk7XG4gIH1cblxuICBoaWRlKCkge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9zaG93VGltZW91dCk7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnY29vbGRvd24nKTtcbiAgfVxufVxuIiwidmFyIGNvbnRleHRSYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG5jb250ZXh0UmFuZ2Uuc2V0U3RhcnQoZG9jdW1lbnQuYm9keSwgMCk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0clRvRWxzKHN0cikge1xuICByZXR1cm4gY29udGV4dFJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChzdHIpO1xufSJdfQ=="}